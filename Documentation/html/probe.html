<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Probing Device Capabilities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Probing Device Capabilities </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A programmer may wish to query the available audio device capabilities before deciding which to use. The following example outlines how this can be done.</p>
<div class="fragment"><div class="line"><span class="comment">// audioprobe.cpp</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_rt_audio_8h.html">RtAudio.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="class_rt_audio.html">RtAudio</a> <a class="code" href="classaudio.html">audio</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Determine the number of devices available</span></div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> devices = <a class="code" href="classaudio.html">audio</a>.getDeviceCount();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Scan through devices for various capabilities</span></div>
<div class="line">  <a class="code" href="struct_rt_audio_1_1_device_info.html">RtAudio::DeviceInfo</a> info;</div>
<div class="line">  <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;devices; i++ ) {</div>
<div class="line"> </div>
<div class="line">    info = <a class="code" href="classaudio.html">audio</a>.getDeviceInfo( i );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( info.probed == <span class="keyword">true</span> ) {</div>
<div class="line">      <span class="comment">// Print, for example, the maximum number of output channels for each device</span></div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;device = &quot;</span> &lt;&lt; i;</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;: maximum output channels = &quot;</span> &lt;&lt; info.outputChannels &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <a class="el" href="struct_rt_audio_1_1_device_info.html" title="The public device information structure for returning queried values.">RtAudio::DeviceInfo</a> structure is defined in <a class="el" href="_rt_audio_8h.html">RtAudio.h</a> and provides a variety of information useful in assessing the capabilities of a device:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_rt_audio_1_1_device_info.html">RtAudio::DeviceInfo</a> {</div>
<div class="line">  <span class="keywordtype">bool</span> <a class="code" href="struct_rt_audio_1_1_device_info.html#a97573717ccb1e75a834a0a108cd6982d">probed</a>;                           <span class="comment">// true if the device capabilities were successfully probed.</span></div>
<div class="line">  std::string <a class="code" href="struct_rt_audio_1_1_device_info.html#a24df596ab8d54f2eb540c7cf16212b3b">name</a>;                      <span class="comment">// Character string device identifier.</span></div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_rt_audio_1_1_device_info.html#a81aaf488f8158ef55b1bb678f66feb7d">outputChannels</a>;           <span class="comment">// Maximum output channels supported by device.</span></div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_rt_audio_1_1_device_info.html#a56247b458a937ae84d98ca9c4b243275">inputChannels</a>;            <span class="comment">// Maximum input channels supported by device.</span></div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_rt_audio_1_1_device_info.html#a3e8ad34c2d14e24293a0beafc26186e7">duplexChannels</a>;           <span class="comment">// Maximum simultaneous input/output channels supported by device.</span></div>
<div class="line">  <span class="keywordtype">bool</span> <a class="code" href="struct_rt_audio_1_1_device_info.html#a5365245e73ffe29a05734de4474acd58">isDefaultOutput</a>;                  <span class="comment">// true if this is the default output device.</span></div>
<div class="line">  <span class="keywordtype">bool</span> <a class="code" href="struct_rt_audio_1_1_device_info.html#a7c8aca084bd908799b6be5954b80def2">isDefaultInput</a>;                   <span class="comment">// true if this is the default input device.</span></div>
<div class="line">  std::vector&lt;unsigned int&gt; <a class="code" href="struct_rt_audio_1_1_device_info.html#afa65f5f92f66ce7aacd3ff35e11b230f">sampleRates</a>; <span class="comment">// Supported sample rates.</span></div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_rt_audio_1_1_device_info.html#ae9f35de296b33ae1f4e7baab8fd3be6e">preferredSampleRate</a>;      <span class="comment">// Preferred sample rate, e.g. for WASAPI the system sample rate.</span></div>
<div class="line">  <a class="code" href="_rt_audio_8h.html#aafca92882d25915560018873221e44b8">RtAudioFormat</a> <a class="code" href="struct_rt_audio_1_1_device_info.html#a23251b549b89b2fe04a57fcd7cb76ea4">nativeFormats</a>;           <span class="comment">// Bit mask of supported data formats.</span></div>
<div class="line">};</div>
</div><!-- fragment --><p>The following data formats are defined and fully supported by <a class="el" href="class_rt_audio.html" title="Realtime audio i/o C++ classes.">RtAudio</a>:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="_rt_audio_8h.html#aafca92882d25915560018873221e44b8">RtAudioFormat</a>;</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_rt_audio_8h.html#aafca92882d25915560018873221e44b8">RtAudioFormat</a> RTAUDIO_SINT8 = 0x1;    <span class="comment">// 8-bit signed integer.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_rt_audio_8h.html#aafca92882d25915560018873221e44b8">RtAudioFormat</a> RTAUDIO_SINT16 = 0x2;   <span class="comment">// 16-bit signed integer.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_rt_audio_8h.html#aafca92882d25915560018873221e44b8">RtAudioFormat</a> RTAUDIO_SINT24 = 0x4;   <span class="comment">// 24-bit signed integer.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_rt_audio_8h.html#aafca92882d25915560018873221e44b8">RtAudioFormat</a> RTAUDIO_SINT32 = 0x8;   <span class="comment">// 32-bit signed integer.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_rt_audio_8h.html#aafca92882d25915560018873221e44b8">RtAudioFormat</a> RTAUDIO_FLOAT32 = 0x10; <span class="comment">// Normalized between plus/minus 1.0.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_rt_audio_8h.html#aafca92882d25915560018873221e44b8">RtAudioFormat</a> RTAUDIO_FLOAT64 = 0x20; <span class="comment">// Normalized between plus/minus 1.0.</span></div>
</div><!-- fragment --><p>The <code>nativeFormats</code> member of the <a class="el" href="struct_rt_audio_1_1_device_info.html" title="The public device information structure for returning queried values.">RtAudio::DeviceInfo</a> structure is a bit mask of the above formats which are natively supported by the device. However, <a class="el" href="class_rt_audio.html" title="Realtime audio i/o C++ classes.">RtAudio</a> will automatically provide format conversion if a particular format is not natively supported. When the <code>probed</code> member of the <a class="el" href="struct_rt_audio_1_1_device_info.html" title="The public device information structure for returning queried values.">RtAudio::DeviceInfo</a> structure is false, the remaining structure members are undefined and the device is probably unusable.</p>
<p>Some audio devices may require a minimum channel value greater than one. <a class="el" href="class_rt_audio.html" title="Realtime audio i/o C++ classes.">RtAudio</a> will provide automatic channel number compensation when the number of channels set by the user is less than that required by the device. Channel compensation is <em>NOT</em> possible when the number of channels set by the user is greater than that supported by the device.</p>
<p>Note that the device enumeration is system specific and will change if any devices are plugged or unplugged by the user. Thus, the device numbers should be verified immediately before opening a stream. As well, if a user unplugs a device while an open stream is using that device, the resulting stream behaviour will be undefined (a system error will likely be generated).</p>
<p>Also, the capabilities reported by a device driver or underlying audio API are not always accurate and/or may be dependent on a combination of device settings. For this reason, <a class="el" href="class_rt_audio.html" title="Realtime audio i/o C++ classes.">RtAudio</a> does not rely on the queried values when attempting to open a stream. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html_a3e8ad34c2d14e24293a0beafc26186e7"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html#a3e8ad34c2d14e24293a0beafc26186e7">RtAudio::DeviceInfo::duplexChannels</a></div><div class="ttdeci">unsigned int duplexChannels</div><div class="ttdef"><b>Definition:</b> RtAudio.h:304</div></div>
<div class="ttc" id="a_rt_audio_8h_html_aafca92882d25915560018873221e44b8"><div class="ttname"><a href="_rt_audio_8h.html#aafca92882d25915560018873221e44b8">RtAudioFormat</a></div><div class="ttdeci">unsigned long RtAudioFormat</div><div class="ttdoc">RtAudio data format type.</div><div class="ttdef"><b>Definition:</b> RtAudio.h:86</div></div>
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html_a24df596ab8d54f2eb540c7cf16212b3b"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html#a24df596ab8d54f2eb540c7cf16212b3b">RtAudio::DeviceInfo::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> RtAudio.h:301</div></div>
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html_ae9f35de296b33ae1f4e7baab8fd3be6e"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html#ae9f35de296b33ae1f4e7baab8fd3be6e">RtAudio::DeviceInfo::preferredSampleRate</a></div><div class="ttdeci">unsigned int preferredSampleRate</div><div class="ttdef"><b>Definition:</b> RtAudio.h:308</div></div>
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html_afa65f5f92f66ce7aacd3ff35e11b230f"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html#afa65f5f92f66ce7aacd3ff35e11b230f">RtAudio::DeviceInfo::sampleRates</a></div><div class="ttdeci">std::vector&lt; unsigned int &gt; sampleRates</div><div class="ttdef"><b>Definition:</b> RtAudio.h:307</div></div>
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html_a5365245e73ffe29a05734de4474acd58"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html#a5365245e73ffe29a05734de4474acd58">RtAudio::DeviceInfo::isDefaultOutput</a></div><div class="ttdeci">bool isDefaultOutput</div><div class="ttdef"><b>Definition:</b> RtAudio.h:305</div></div>
<div class="ttc" id="aclass_rt_audio_html"><div class="ttname"><a href="class_rt_audio.html">RtAudio</a></div><div class="ttdoc">Realtime audio i/o C++ classes.</div><div class="ttdef"><b>Definition:</b> RtAudio.h:279</div></div>
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html_a56247b458a937ae84d98ca9c4b243275"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html#a56247b458a937ae84d98ca9c4b243275">RtAudio::DeviceInfo::inputChannels</a></div><div class="ttdeci">unsigned int inputChannels</div><div class="ttdef"><b>Definition:</b> RtAudio.h:303</div></div>
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html">RtAudio::DeviceInfo</a></div><div class="ttdoc">The public device information structure for returning queried values.</div><div class="ttdef"><b>Definition:</b> RtAudio.h:299</div></div>
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html_a81aaf488f8158ef55b1bb678f66feb7d"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html#a81aaf488f8158ef55b1bb678f66feb7d">RtAudio::DeviceInfo::outputChannels</a></div><div class="ttdeci">unsigned int outputChannels</div><div class="ttdef"><b>Definition:</b> RtAudio.h:302</div></div>
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html_a97573717ccb1e75a834a0a108cd6982d"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html#a97573717ccb1e75a834a0a108cd6982d">RtAudio::DeviceInfo::probed</a></div><div class="ttdeci">bool probed</div><div class="ttdef"><b>Definition:</b> RtAudio.h:300</div></div>
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html_a7c8aca084bd908799b6be5954b80def2"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html#a7c8aca084bd908799b6be5954b80def2">RtAudio::DeviceInfo::isDefaultInput</a></div><div class="ttdeci">bool isDefaultInput</div><div class="ttdef"><b>Definition:</b> RtAudio.h:306</div></div>
<div class="ttc" id="astruct_rt_audio_1_1_device_info_html_a23251b549b89b2fe04a57fcd7cb76ea4"><div class="ttname"><a href="struct_rt_audio_1_1_device_info.html#a23251b549b89b2fe04a57fcd7cb76ea4">RtAudio::DeviceInfo::nativeFormats</a></div><div class="ttdeci">RtAudioFormat nativeFormats</div><div class="ttdef"><b>Definition:</b> RtAudio.h:309</div></div>
<div class="ttc" id="a_rt_audio_8h_html"><div class="ttname"><a href="_rt_audio_8h.html">RtAudio.h</a></div></div>
<div class="ttc" id="aclassaudio_html"><div class="ttname"><a href="classaudio.html">audio</a></div><div class="ttdef"><b>Definition:</b> audio.h:37</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
