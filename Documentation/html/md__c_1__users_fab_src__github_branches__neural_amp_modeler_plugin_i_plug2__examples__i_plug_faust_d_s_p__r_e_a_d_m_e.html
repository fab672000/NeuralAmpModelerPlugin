<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: IPlugFaustDSP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="class_i_plug_faust_d_s_p.html">IPlugFaustDSP</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A plug-in that uses FAUST to implement its <a class="el" href="class_d_s_p.html">DSP</a> and JIT-compile FAUST code (using libfaust) in debug builds.</p>
<p>iPlug2 FAUST integration was presented at the International <a class="el" href="struct_faust.html">Faust</a> Conference (IFC 2018).</p>
<p>You can check the <a href="https://github.com/iPlug2/iPlug2/raw/master/Documentation/Papers/IFC2018.pdf">conference paper</a> and watch a <a href="https://youtu.be/SLHGxBYeID4">video</a> of the talk to learn more about how it works.</p>
<h1><a class="anchor" id="autotoc_md1411"></a>
NOTES</h1>
<ul>
<li>JIT compilation will only work on macOS and Windows (iOS doesn't allow JIT compilation)</li>
<li>iPlug2 "pre-built libraries" zips contains a build of faust for mac and windows designed to work with this project. If you know what you are doing you can use your own build of faust, but warning: it is very complicated on Windows.</li>
<li>iPlug2 project preprocessor directives to choose the various paths for the faust dependencies are set in the .xcconfig and .props files that reside in the /config folder of a project.</li>
<li>The preprocessor directive <em>DSP_FILE</em> specified in debug builds is a hardcoded path to the FAUST .dsp file. You may need to modifiy that path in order for the JIT compilation to work.</li>
<li>The preprocessor directive <em>FAUST_SHARE_PATH</em> can be set to specify the install paths for faust libraries like stdfaust.lib. By default it looks in the standard faust install path, so if you didn't install faust the compilation will fail.</li>
<li>The preprocessor directive <em>FAUST_COMPILED</em> is specified in release builds to take out the libfaust JIT compiler and just use the <a class="el" href="_faust_code_8hpp_source.html">FaustCode.hpp</a> file (the generated C++ code). If the JIT compiler is not working for you, you can disable it (with the FAUST_COMPILED macro) and complile the faust .dsp file to C++ using the command line faust executable.</li>
<li>Since this project watches a FAUST .dsp file on disk, It must be able to access the file via the filesystem. In the case of macOS, if the app is running in the app-sandbox, it's likely that it can't load the .dsp file or the faust library files and will trigger an assertion. In order to disable the app sandbox you can make sure the "Code signing identity" field is empty in the xcode project target build settings.</li>
<li><p class="startli">On Windows there are currently some issues with the libfaust compiler, so you may have to manually compile the C++ file, for example assuming you have FAUST installed and in your PATH you could compile it like this on the command line:</p>
<p class="startli"><code>faust.exe -cn <a class="el" href="class_faust1.html">Faust1</a> -i -a ..\..\IPlug\Extras\<a class="el" href="struct_faust.html">Faust</a>\IPlugFaust_arch.cpp -o <a class="el" href="_faust_code_8hpp_source.html">FaustCode.hpp</a> IPlugFaustDSP.dsp</code> </p>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
