<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: C:/Users/fab/src/Github/branches/NeuralAmpModelerPlugin/iPlug2/Dependencies/Build/src/skia/third_party/externals/icu/source/common/unicode/icuplug.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_165293a501ba4c2e6154d2349f7bda2f.html">iPlug2</a></li><li class="navelem"><a class="el" href="dir_641d916385cbd9a9905ec9187e5a8cbf.html">Dependencies</a></li><li class="navelem"><a class="el" href="dir_31040ea15c7786249445d58d4501206c.html">Build</a></li><li class="navelem"><a class="el" href="dir_e8f3db59aac1d5c97f13eb5dbbaa3a7d.html">src</a></li><li class="navelem"><a class="el" href="dir_7a9255f9d333bb98ab788446a5533da8.html">skia</a></li><li class="navelem"><a class="el" href="dir_212a600375b83c6af05be875f6a23535.html">third_party</a></li><li class="navelem"><a class="el" href="dir_937bea7cc4f3b9e8c1234fe3c579a587.html">externals</a></li><li class="navelem"><a class="el" href="dir_542afbf6d0c69a274871e3d957b678ee.html">icu</a></li><li class="navelem"><a class="el" href="dir_31622dccf8db85caffa8f85ad4320bbe.html">source</a></li><li class="navelem"><a class="el" href="dir_6c5ab2b8add3ebc22db5bfe0d8229e32.html">common</a></li><li class="navelem"><a class="el" href="dir_937cffebded29b02632a2dbb4062d4a1.html">unicode</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">icuplug.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>C API: ICU <a class="el" href="class_plugin.html">Plugin</a> API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="utypes_8h_source.html">unicode/utypes.h</a>&quot;</code><br />
</div>
<p><a href="icuplug_8h_source.html">Go to the source code of this file.</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>C API: ICU <a class="el" href="class_plugin.html">Plugin</a> API. </p>
<h2>C API: ICU <a class="el" href="class_plugin.html">Plugin</a> API</h2>
<p>C API allowing run-time loadable modules that extend or modify ICU functionality.</p>
<h3>Loading and Configuration</h3>
<p>At ICU startup time, the environment variable "ICU_PLUGINS" will be queried for a directory name. If it is not set, the preprocessor symbol "DEFAULT_ICU_PLUGINS" will be checked for a default value.</p>
<p>Within the above-named directory, the file "icuplugins##.txt" will be opened, if present, where ## is the major+minor number of the currently running ICU (such as, 44 for ICU 4.4, thus icuplugins44.txt)</p>
<p>The configuration file has this format:</p>
<ul>
<li>
<p class="startli">Hash (#) begins a comment line</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Non-comment lines have two or three components: LIBRARYNAME ENTRYPOINT [ CONFIGURATION .. ]</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Tabs or spaces separate the three items.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">LIBRARYNAME is the name of a shared library, either a short name if it is on the loader path, or a full pathname.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">ENTRYPOINT is the short (undecorated) symbol name of the plugin's entrypoint, as above.</p>
<p class="endli"></p>
</li>
<li>
CONFIGURATION is the entire rest of the line . It's passed as-is to the plugin. </li>
</ul>
<p>An example configuration file is, in its entirety:</p>
<div class="fragment"><div class="line"><span class="preprocessor"># this is icuplugins44.txt</span></div>
<div class="line"><span class="preprocessor">testplug.dll    myPlugin        hello=world</span></div>
</div><!-- fragment --> <p>Plugins are categorized as "high" or "low" level. Low level are those which must be run BEFORE high level plugins, and before any operations which cause ICU to be 'initialized'. If a plugin is low level but causes ICU to allocate memory or become initialized, that plugin is said to cause a 'level change'. </p>
<p>At load time, ICU first queries all plugins to determine their level, then loads all 'low' plugins first, and then loads all 'high' plugins. <br  />
 Plugins are otherwise loaded in the order listed in the configuration file.</p>
<h3>Implementing a <a class="el" href="class_plugin.html">Plugin</a></h3>
<div class="fragment"><div class="line"><a class="code" href="umachine_8h.html#a676114b1a64bb7c2de15c919a00b28df">U_CAPI</a> UPlugTokenReturn U_EXPORT2 </div>
<div class="line">myPlugin (UPlugData *plug, UPlugReason reason, <a class="code" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status) {</div>
<div class="line">  <span class="keywordflow">if</span>(reason==UPLUG_REASON_QUERY) {</div>
<div class="line">     uplug_setPlugName(plug, <span class="stringliteral">&quot;Simple Plugin&quot;</span>);</div>
<div class="line">     uplug_setPlugLevel(plug, UPLUG_LEVEL_HIGH);</div>
<div class="line">   } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(reason==UPLUG_REASON_LOAD) {</div>
<div class="line">      ... Set up some ICU things here.... </div>
<div class="line">   } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(reason==UPLUG_REASON_UNLOAD) {</div>
<div class="line">      ... unload, clean up ...</div>
<div class="line">   }</div>
<div class="line">  <span class="keywordflow">return</span> UPLUG_TOKEN;</div>
<div class="line"> }</div>
</div><!-- fragment --><p>The UPlugData* is an opaque pointer to the plugin-specific data, and is used in all other API calls.</p>
<p>The API contract is:</p>
<ol>
<li>
<p class="startli">The plugin MUST always return UPLUG_TOKEN as a return value- to indicate that it is a valid plugin.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">When the 'reason' parameter is set to UPLUG_REASON_QUERY, the plugin MUST call uplug_setPlugLevel() to indicate whether it is a high level or low level plugin.</p>
<p class="endli"></p>
</li>
<li>
When the 'reason' parameter is UPLUG_REASON_QUERY, the plugin SHOULD call uplug_setPlugName to indicate a human readable plugin name.</li>
</ol>
</div></div><!-- contents -->
<div class="ttc" id="autypes_8h_html_a3343c1c8a8377277046774691c98d78c"><div class="ttname"><a href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a></div><div class="ttdeci">UErrorCode</div><div class="ttdef"><b>Definition:</b> utypes.h:419</div></div>
<div class="ttc" id="aumachine_8h_html_a676114b1a64bb7c2de15c919a00b28df"><div class="ttname"><a href="umachine_8h.html#a676114b1a64bb7c2de15c919a00b28df">U_CAPI</a></div><div class="ttdeci">#define U_CAPI</div><div class="ttdef"><b>Definition:</b> umachine.h:110</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
