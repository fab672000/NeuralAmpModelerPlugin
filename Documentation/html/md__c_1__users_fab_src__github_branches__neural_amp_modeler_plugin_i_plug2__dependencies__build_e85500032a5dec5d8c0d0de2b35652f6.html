<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: faust2unity</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">faust2unity </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><code>faust2unity</code> transforms a <a class="el" href="struct_faust.html">Faust</a> <a class="el" href="class_d_s_p.html">DSP</a> program into a fully working Unity audio plugin, which can be an effect or a synthesiser to perform procedural audio.</p>
<p>The compiled folder is a Unity package (i.e. FaustPlugin_&lt;dspname&gt;.unitypackage) which contains two different types of files : </p><pre class="fragment">- Libraries (in `libFaustPlugin_&lt;dspname&gt;.bundle`) containing the native C++ part.
- Two C# scripts (`FaustPlugin_&lt;dspname&gt;.cs` and `FaustUtilities_&lt;dspname&gt;.cs`) containing the methods and classes which link the native part to the Unity audio system, and manage the plugin inspector interface.
</pre><p>Libraries are available for several platforms and architectures: </p><pre class="fragment">- Windows 32 bits and 64 bits (.dll)
- macOS (.bundle)
- iOS (.a)
- Android armeabi-v7a and x86 (.so)
- Linux (.so).
</pre><h1><a class="anchor" id="autotoc_md1284"></a>
How to use</h1>
<p><code>faust2unity</code> is used with the following command:</p>
<p><code>faust2unity [-w32] [-w64]&#160;[-osx]&#160;[-ios]&#160;[-android] [-linux] [-nvoices &lt;num&gt;] [-source] [-unpacked] &lt;file1.dsp&gt; [&lt;file2.dsp&gt;]</code></p>
<p>By default it will create a Unity package containing the C# script and sub-folders with all available architectures. Relevant achitectures can be chosen by including their corresponding options as listed above. Several <a class="el" href="class_d_s_p.html">DSP</a> files can be compiled at the same time and will be generated in different packages.</p>
<p>The relevant architecture setup should be filled in for each file in the plugin inspector.</p>
<p>Finally, the C# script <code>FaustPlugin_&lt;dspname&gt;</code> should be attached to a game object. <code>FaustPlugin_&lt;dspname&gt;.cs</code> is the public interface and contains the dsp class and methods that allow to access and change the parameters (i.e. <code>getParameter()</code> and <code>setParameter()</code>). <code>FaustUtilities_&lt;dspname&gt;</code> contains additional code to access the plugin and generate the inspector interface. This file shouldn't be changed.</p>
<p>The source files can be produced with the <code>-source</code> option.</p>
<p>The <code>-nvoices &lt;num&gt;</code> option can be used to produce a polyphonic self-contained <a class="el" href="class_d_s_p.html">DSP</a> with <code>num</code> voices, ready to be used with MIDI. The C# script will contain keyOn/KeyOff functions to control the instrument.</p>
<p>Unity packages have a specific organization in order to be correctly read by the Unity editor. <code>faust2unity</code> calls <code>encoderunitypackage</code> to correctly encode the compiled files. The <code>-unpacked</code> option stops the script before the encoding step, the intermediate folder is named <code>FaustPlugin_&lt;dspname&gt;_Assets</code> and organized like the Assets hierarchy of a Unity project. It allows to add additional files to the package before packing it. Then, use the <code>encoderunitypackage &lt;folder&gt;</code> command to encode and pack the folder as a Unity package.</p>
<h1><a class="anchor" id="autotoc_md1285"></a>
Compiler requirements</h1>
<h2><a class="anchor" id="autotoc_md1286"></a>
Windows 32 bits and 64 bits</h2>
<p>The compiler used for Windows libraries is Mingw (<a href="http://www.mingw.org">http://www.mingw.org</a>). <code>i686-w64-mingw32-gcc</code> (32bits) and <code>x86_64-w64-mingw32-gcc</code> (64bits) packages have to be installed. On macOS, they are available on <a href="https://www.macports.org">Macports</a>.</p>
<h2><a class="anchor" id="autotoc_md1287"></a>
Android</h2>
<p>Android SDK (containing Android NDK) should be installed to generate Android libraries and the ANDROID_HOME environment variable should be defined. It should point on the sdk folder. If the SDK has been installed by Android Studio, the path should be <code>~/Library/Android/sdk</code>. Other architectures are available in the Android NDK. To use them, the <code>achitecture/unity/Android/Android.mk</code> file should be updated and the APP_ABI line should be modified. See <a href="https://developer.android.com/ndk/guides/android_mk.html">Android NDK</a> for more info. <br  />
</p>
<h1><a class="anchor" id="autotoc_md1288"></a>
Options</h1>
<p>The following options are available :</p>
<ul>
<li><code>-w32</code> : produces a Windows 32bits library</li>
<li><code>-w64</code> : produces a Windows 64bits library</li>
<li><code>-osx</code> : produces a macOS library</li>
<li><code>-ios</code> : produces an iOS library</li>
<li><code>-android</code> : produces Android armeabi-v7a and x86 libraries</li>
<li><code>-linux</code> : produces a Linux library</li>
<li><code>-nvoices &lt;num&gt;</code>: produces a polyphonic self-contained <a class="el" href="class_d_s_p.html">DSP</a> with &lt;num&gt; voices, ready to be used with MIDI</li>
<li><code>-source</code> : produces an uncompressed folder with the selected architecture and the source files used to compile the libraries</li>
<li><code>-unpacked</code> : produces a folder with all selected architectures ordered like the Unity Assets hierarchy (i.e. <code>Assets/Plugins/FaustPlugin_&lt;dspname&gt;/iOS/libFaustPlugin_&lt;dspname&gt;.a</code>).</li>
<li><code>-help or -h</code> : shows different options and comments</li>
</ul>
<p><code>faust2unity</code> script calls six different commands :</p>
<ul>
<li><code>faust2w32unity &lt;file.dsp&gt;</code></li>
<li><code>faust2w64unity &lt;file.dsp&gt;</code></li>
<li><code>faust2osxiosunity [-ios] &lt;file.dsp&gt;</code></li>
<li><code>faust2androidunity &lt;file.dsp&gt;</code></li>
<li><code>faust2linuxunity &lt;file.dsp&gt;</code></li>
<li><code>encoderunitypackage &lt;folder&gt;</code></li>
</ul>
<p>These commands can be called independently and will generate the libraries only (without the C# files). Specific compilation options can be changed in <code>faust2&lt;platform&gt;unity</code> scripts. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
