<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Development</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Development </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The effects included are designed to be as portable as possible, as well as making it easy to add additional effects.</p>
<h1><a class="anchor" id="autotoc_md322"></a>
Building</h1>
<p>To build the app, simply open the project in android studio and build. The app integrates Oboe via a git submodule. Make sure when cloning the repository to clone the submodule as well using <code>git clone --recursive</code>, or <code>git submodule update --init --recursive</code>.</p>
<p>To update the version of Oboe being used, descend into the Oboe repository <a href="../app/src/main/cpp">(oboe location)</a> and update from its remote. Then, call <code>git submodule update</code> in this repository. Alternatively <code>git submodule update --recursive --remote</code> will pull the latest version of Oboe from remote.</p>
<p>Although the CMake file requires android headers (to use Oboe), the effects themselves can be compiled with any C++17 compliant compiler.</p>
<h1><a class="anchor" id="autotoc_md323"></a>
Architecture</h1>
<p>The <a class="el" href="class_u_i.html">UI</a> code (Kotlin) calls native code through the JNI bridge to query information about the various effects implemented, and how to render the effect information in the <a class="el" href="class_u_i.html">UI</a>. This means that adding an effect only needs to be done on the native side. The JNI bridge passes information regarding implemented effects descriptions to the <a class="el" href="class_u_i.html">UI</a> as well as functions called when the user modifies effects in the <a class="el" href="class_u_i.html">UI</a>.</p>
<p>The <code><a class="el" href="class_duplex_engine.html">DuplexEngine</a></code> is responsible for managing and syncing the input and output Oboe streams for rendering audio with as low latency as possible. The <code><a class="el" href="class_function_list.html">FunctionList</a></code> class contains the a vector of effects that correspond to the list of effects (and their parameters) that the user wants to use to process their audio. Effects (and the <code><a class="el" href="class_function_list.html">FunctionList</a></code>) overload their function operator to take in two numeric iterator types. E.g <code>&lt;template iter_type&gt; void operator() (iter_type begin, iter_type end)</code>, where the <code>iter_types</code> correspond to C++ iterators carrying audio data. To erase the type of different objects, the <code><a class="el" href="class_function_list.html">FunctionList</a></code> holds objects of types <code>std::function&lt;void(iter_type, iter_type)&gt;</code> i.e. functions which operate on the range between two numeric iterators in place. The <code><a class="el" href="class_duplex_engine.html">DuplexEngine</a></code>simply calls the <code><a class="el" href="class_function_list.html">FunctionList</a></code> on every buffer of samples it receives.</p>
<p>The effects folder contains the classes of various implemented effects. It also contains <code>Effects.h</code> where a global tuple of all the Effect descriptions implemented lives. The description folder contains the description for all of the effects. Each description takes the form of a class with static methods providing information regarding the effect (including name, category, parameters, and a factory method).</p>
<h1><a class="anchor" id="autotoc_md324"></a>
Adding Effects</h1>
<p>To add an effect, simply add a Description class similar to the existing classes, and add the class to the tuple in <code>Effects.h</code>. The description must provide a way to build the effect by either constructing another class corresponding to an effect, or pointing to a standalone function. Adding new effects is welcome!</p>
<h1><a class="anchor" id="autotoc_md325"></a>
Existing Effects</h1>
<p>A instructional implemented effect to examine is the <code>TremoloEffect.h</code> (a modulating gain). Many of the effects in the delay category inherit from <code><a class="el" href="class_delay_line_effect.html">DelayLineEffect</a></code> which provides a framework to easily implement many delay based effects, as well as the comb filter effects (FIR, IIR, allpass). The slides have a block diagram displaying the mathematical basis of the effect. The nonlinear effects (distortion and overdrive) are implemented using a standalone function (from <code>SingleEffectFunctions.h</code>. The gain effect is implemented by a simple lambda in its description class. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
