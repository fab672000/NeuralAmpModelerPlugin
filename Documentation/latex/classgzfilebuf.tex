\hypertarget{classgzfilebuf}{}\doxysection{gzfilebuf Class Reference}
\label{classgzfilebuf}\index{gzfilebuf@{gzfilebuf}}


Gzipped file stream buffer class.  




{\ttfamily \#include $<$zfstream.\+h$>$}

Inheritance diagram for gzfilebuf\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classgzfilebuf}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classgzfilebuf_ae1fbc989b2dae79dba798556542c147c}\label{classgzfilebuf_ae1fbc989b2dae79dba798556542c147c}} 
\mbox{\hyperlink{classgzfilebuf}{gzfilebuf}} $\ast$ {\bfseries open} (const char $\ast$name, int io\+\_\+mode)
\item 
\mbox{\Hypertarget{classgzfilebuf_a3ececdeaa35a8b606182cc23c9908891}\label{classgzfilebuf_a3ececdeaa35a8b606182cc23c9908891}} 
\mbox{\hyperlink{classgzfilebuf}{gzfilebuf}} $\ast$ {\bfseries attach} (int file\+\_\+descriptor, int io\+\_\+mode)
\item 
\mbox{\Hypertarget{classgzfilebuf_a18e628926f455f41d7715c2ddd9c0e64}\label{classgzfilebuf_a18e628926f455f41d7715c2ddd9c0e64}} 
\mbox{\hyperlink{classgzfilebuf}{gzfilebuf}} $\ast$ {\bfseries close} ()
\item 
\mbox{\Hypertarget{classgzfilebuf_a8bbfda3e29baf20e4330e3a9d7ee4a54}\label{classgzfilebuf_a8bbfda3e29baf20e4330e3a9d7ee4a54}} 
int {\bfseries setcompressionlevel} (int comp\+\_\+level)
\item 
\mbox{\Hypertarget{classgzfilebuf_a47d4b9f1257fd12dd21847b71ad1d49d}\label{classgzfilebuf_a47d4b9f1257fd12dd21847b71ad1d49d}} 
int {\bfseries setcompressionstrategy} (int comp\+\_\+strategy)
\item 
\mbox{\Hypertarget{classgzfilebuf_af2619b96e3ddea9050be70dd21de4752}\label{classgzfilebuf_af2619b96e3ddea9050be70dd21de4752}} 
int {\bfseries is\+\_\+open} () const
\item 
\mbox{\Hypertarget{classgzfilebuf_a0ab89070031cbc37679365582180ae3c}\label{classgzfilebuf_a0ab89070031cbc37679365582180ae3c}} 
virtual streampos {\bfseries seekoff} (streamoff, ios\+::seek\+\_\+dir, int)
\item 
\mbox{\Hypertarget{classgzfilebuf_ae537a3f86b37de7bf27d2aff0cded07e}\label{classgzfilebuf_ae537a3f86b37de7bf27d2aff0cded07e}} 
virtual int {\bfseries sync} ()
\item 
int \mbox{\hyperlink{classgzfilebuf_ad109ea4fc4ca7cc19d8014b53375255d}{setcompression}} (int comp\+\_\+level, int comp\+\_\+strategy=Z\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+T\+R\+A\+T\+E\+GY)
\begin{DoxyCompactList}\small\item\em Set compression level and strategy on the fly. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classgzfilebuf_a24dfb3e35c147aaf3a562c1ea4268757}{is\+\_\+open}} () const
\begin{DoxyCompactList}\small\item\em Check if file is open. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classgzfilebuf}{gzfilebuf}} $\ast$ \mbox{\hyperlink{classgzfilebuf_a9582843a0caa22cb1b4ead1c687dabb2}{open}} (const char $\ast$name, std\+::ios\+\_\+base\+::openmode mode)
\begin{DoxyCompactList}\small\item\em Open gzipped file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classgzfilebuf}{gzfilebuf}} $\ast$ \mbox{\hyperlink{classgzfilebuf_ae8a47750ca65bc2a43b4768b47f3923a}{attach}} (int fd, std\+::ios\+\_\+base\+::openmode mode)
\begin{DoxyCompactList}\small\item\em Attach to already open gzipped file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classgzfilebuf}{gzfilebuf}} $\ast$ \mbox{\hyperlink{classgzfilebuf_a280d1c661fb371c22de1214d5a1682a2}{close}} ()
\begin{DoxyCompactList}\small\item\em Close gzipped file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classgzfilebuf_a2f7159c91a60bee86546283caf8de212}\label{classgzfilebuf_a2f7159c91a60bee86546283caf8de212}} 
virtual int {\bfseries underflow} ()
\item 
\mbox{\Hypertarget{classgzfilebuf_a7a10ee573ebe6777c8a64e316569f694}\label{classgzfilebuf_a7a10ee573ebe6777c8a64e316569f694}} 
virtual int {\bfseries overflow} (int=E\+OF)
\item 
bool \mbox{\hyperlink{classgzfilebuf_ab0c2c304183e591706681af26add3da2}{open\+\_\+mode}} (std\+::ios\+\_\+base\+::openmode mode, char $\ast$c\+\_\+mode) const
\begin{DoxyCompactList}\small\item\em Convert ios open mode int to mode string used by zlib. \end{DoxyCompactList}\item 
virtual std\+::streamsize \mbox{\hyperlink{classgzfilebuf_afbe2418d8a9c3f4a321cc26aa4ae5f7a}{showmanyc}} ()
\begin{DoxyCompactList}\small\item\em Number of characters available in stream buffer. \end{DoxyCompactList}\item 
virtual int\+\_\+type \mbox{\hyperlink{classgzfilebuf_a23768f9935022e54608c53173f0047c0}{underflow}} ()
\begin{DoxyCompactList}\small\item\em Fill get area from gzipped file. \end{DoxyCompactList}\item 
virtual int\+\_\+type \mbox{\hyperlink{classgzfilebuf_a425a4b0d1890abff8f83d7a5aae344b4}{overflow}} (int\+\_\+type c=traits\+\_\+type\+::eof())
\begin{DoxyCompactList}\small\item\em Write put area to gzipped file. \end{DoxyCompactList}\item 
virtual std\+::streambuf $\ast$ \mbox{\hyperlink{classgzfilebuf_a856bc21f7cfc6ba43f017c9c3f0d5f81}{setbuf}} (char\+\_\+type $\ast$p, std\+::streamsize n)
\begin{DoxyCompactList}\small\item\em Installs external stream buffer. \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{classgzfilebuf_a8fdf6b079487c0034cb920c63c9eaf55}{sync}} ()
\begin{DoxyCompactList}\small\item\em Flush stream buffer to file. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Gzipped file stream buffer class. 

This class implements basic\+\_\+filebuf for gzipped files. It doesn\textquotesingle{}t yet support seeking (allowed by zlib but slow/limited), putback and read/write access (tricky). Otherwise, it attempts to be a drop-\/in replacement for the standard file streambuf. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classgzfilebuf_ae8a47750ca65bc2a43b4768b47f3923a}\label{classgzfilebuf_ae8a47750ca65bc2a43b4768b47f3923a}} 
\index{gzfilebuf@{gzfilebuf}!attach@{attach}}
\index{attach@{attach}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{attach()}{attach()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classgzfilebuf}{gzfilebuf}} $\ast$ gzfilebuf\+::attach (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{std\+::ios\+\_\+base\+::openmode}]{mode }\end{DoxyParamCaption})}



Attach to already open gzipped file. 


\begin{DoxyParams}{Parameters}
{\em fd} & File descriptor. \\
\hline
{\em mode} & Open mode flags. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily this} on success, N\+U\+LL on failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classgzfilebuf_a280d1c661fb371c22de1214d5a1682a2}\label{classgzfilebuf_a280d1c661fb371c22de1214d5a1682a2}} 
\index{gzfilebuf@{gzfilebuf}!close@{close}}
\index{close@{close}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classgzfilebuf}{gzfilebuf}}$\ast$ gzfilebuf\+::close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Close gzipped file. 

\begin{DoxyReturn}{Returns}
{\ttfamily this} on success, N\+U\+LL on failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classgzfilebuf_a24dfb3e35c147aaf3a562c1ea4268757}\label{classgzfilebuf_a24dfb3e35c147aaf3a562c1ea4268757}} 
\index{gzfilebuf@{gzfilebuf}!is\_open@{is\_open}}
\index{is\_open@{is\_open}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{is\_open()}{is\_open()}}
{\footnotesize\ttfamily bool gzfilebuf\+::is\+\_\+open (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Check if file is open. 

\begin{DoxyReturn}{Returns}
True if file is open. 
\end{DoxyReturn}
\mbox{\Hypertarget{classgzfilebuf_a9582843a0caa22cb1b4ead1c687dabb2}\label{classgzfilebuf_a9582843a0caa22cb1b4ead1c687dabb2}} 
\index{gzfilebuf@{gzfilebuf}!open@{open}}
\index{open@{open}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classgzfilebuf}{gzfilebuf}} $\ast$ gzfilebuf\+::open (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{std\+::ios\+\_\+base\+::openmode}]{mode }\end{DoxyParamCaption})}



Open gzipped file. 


\begin{DoxyParams}{Parameters}
{\em name} & File name. \\
\hline
{\em mode} & Open mode flags. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily this} on success, N\+U\+LL on failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classgzfilebuf_ab0c2c304183e591706681af26add3da2}\label{classgzfilebuf_ab0c2c304183e591706681af26add3da2}} 
\index{gzfilebuf@{gzfilebuf}!open\_mode@{open\_mode}}
\index{open\_mode@{open\_mode}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{open\_mode()}{open\_mode()}}
{\footnotesize\ttfamily bool gzfilebuf\+::open\+\_\+mode (\begin{DoxyParamCaption}\item[{std\+::ios\+\_\+base\+::openmode}]{mode,  }\item[{char $\ast$}]{c\+\_\+mode }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Convert ios open mode int to mode string used by zlib. 

\begin{DoxyReturn}{Returns}
True if valid mode flag combination. 
\end{DoxyReturn}
\mbox{\Hypertarget{classgzfilebuf_a425a4b0d1890abff8f83d7a5aae344b4}\label{classgzfilebuf_a425a4b0d1890abff8f83d7a5aae344b4}} 
\index{gzfilebuf@{gzfilebuf}!overflow@{overflow}}
\index{overflow@{overflow}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{overflow()}{overflow()}}
{\footnotesize\ttfamily gzfilebuf\+::int\+\_\+type gzfilebuf\+::overflow (\begin{DoxyParamCaption}\item[{int\+\_\+type}]{c = {\ttfamily traits\+\_\+type\+:\+:eof()} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Write put area to gzipped file. 


\begin{DoxyParams}{Parameters}
{\em c} & Extra character to add to buffer contents. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Non-\/\+E\+OF on success, E\+OF on error.
\end{DoxyReturn}
This actually writes characters in stream buffer to gzipped file. With unbuffered output this is done one character at a time. \mbox{\Hypertarget{classgzfilebuf_a856bc21f7cfc6ba43f017c9c3f0d5f81}\label{classgzfilebuf_a856bc21f7cfc6ba43f017c9c3f0d5f81}} 
\index{gzfilebuf@{gzfilebuf}!setbuf@{setbuf}}
\index{setbuf@{setbuf}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{setbuf()}{setbuf()}}
{\footnotesize\ttfamily std\+::streambuf $\ast$ gzfilebuf\+::setbuf (\begin{DoxyParamCaption}\item[{char\+\_\+type $\ast$}]{p,  }\item[{std\+::streamsize}]{n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Installs external stream buffer. 


\begin{DoxyParams}{Parameters}
{\em p} & Pointer to char buffer. \\
\hline
{\em n} & Size of external buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily this} on success, N\+U\+LL on failure.
\end{DoxyReturn}
Call setbuf(0,0) to enable unbuffered output. \mbox{\Hypertarget{classgzfilebuf_ad109ea4fc4ca7cc19d8014b53375255d}\label{classgzfilebuf_ad109ea4fc4ca7cc19d8014b53375255d}} 
\index{gzfilebuf@{gzfilebuf}!setcompression@{setcompression}}
\index{setcompression@{setcompression}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{setcompression()}{setcompression()}}
{\footnotesize\ttfamily int gzfilebuf\+::setcompression (\begin{DoxyParamCaption}\item[{int}]{comp\+\_\+level,  }\item[{int}]{comp\+\_\+strategy = {\ttfamily Z\+\_\+DEFAULT\+\_\+STRATEGY} }\end{DoxyParamCaption})}



Set compression level and strategy on the fly. 


\begin{DoxyParams}{Parameters}
{\em comp\+\_\+level} & Compression level (see zlib.\+h for allowed values) \\
\hline
{\em comp\+\_\+strategy} & Compression strategy (see zlib.\+h for allowed values) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Z\+\_\+\+OK on success, Z\+\_\+\+S\+T\+R\+E\+A\+M\+\_\+\+E\+R\+R\+OR otherwise.
\end{DoxyReturn}
Unfortunately, these parameters cannot be modified separately, as the previous zfstream version assumed. Since the strategy is seldom changed, it can default and setcompression(level) then becomes like the old setcompressionlevel(level). \mbox{\Hypertarget{classgzfilebuf_afbe2418d8a9c3f4a321cc26aa4ae5f7a}\label{classgzfilebuf_afbe2418d8a9c3f4a321cc26aa4ae5f7a}} 
\index{gzfilebuf@{gzfilebuf}!showmanyc@{showmanyc}}
\index{showmanyc@{showmanyc}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{showmanyc()}{showmanyc()}}
{\footnotesize\ttfamily std\+::streamsize gzfilebuf\+::showmanyc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Number of characters available in stream buffer. 

\begin{DoxyReturn}{Returns}
Number of characters.
\end{DoxyReturn}
This indicates number of characters in get area of stream buffer. These characters can be read without accessing the gzipped file. \mbox{\Hypertarget{classgzfilebuf_a8fdf6b079487c0034cb920c63c9eaf55}\label{classgzfilebuf_a8fdf6b079487c0034cb920c63c9eaf55}} 
\index{gzfilebuf@{gzfilebuf}!sync@{sync}}
\index{sync@{sync}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{sync()}{sync()}}
{\footnotesize\ttfamily virtual int gzfilebuf\+::sync (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Flush stream buffer to file. 

\begin{DoxyReturn}{Returns}
0 on success, -\/1 on error.
\end{DoxyReturn}
This calls underflow(\+E\+O\+F) to do the job. \mbox{\Hypertarget{classgzfilebuf_a23768f9935022e54608c53173f0047c0}\label{classgzfilebuf_a23768f9935022e54608c53173f0047c0}} 
\index{gzfilebuf@{gzfilebuf}!underflow@{underflow}}
\index{underflow@{underflow}!gzfilebuf@{gzfilebuf}}
\doxysubsubsection{\texorpdfstring{underflow()}{underflow()}}
{\footnotesize\ttfamily virtual int\+\_\+type gzfilebuf\+::underflow (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Fill get area from gzipped file. 

\begin{DoxyReturn}{Returns}
First character in get area on success, E\+OF on error.
\end{DoxyReturn}
This actually reads characters from gzipped file to stream buffer. Always buffered. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/fab/src/\+Github/branches/\+Neural\+Amp\+Modeler\+Plugin/i\+Plug2/\+Dependencies/\+Build/src/zlib/contrib/iostream/zfstream.\+h\item 
C\+:/\+Users/fab/src/\+Github/branches/\+Neural\+Amp\+Modeler\+Plugin/i\+Plug2/\+Dependencies/\+Build/src/zlib/contrib/iostream/zfstream.\+cpp\item 
C\+:/\+Users/fab/src/\+Github/branches/\+Neural\+Amp\+Modeler\+Plugin/i\+Plug2/\+Dependencies/\+Build/src/zlib/contrib/iostream3/zfstream.\+cc\end{DoxyCompactItemize}
