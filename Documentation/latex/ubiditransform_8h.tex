\hypertarget{ubiditransform_8h}{}\doxysection{C\+:/\+Users/fab/src/\+Github/branches/\+Neural\+Amp\+Modeler\+Plugin/i\+Plug2/\+Dependencies/\+Build/src/skia/third\+\_\+party/externals/icu/source/common/unicode/ubiditransform.h File Reference}
\label{ubiditransform_8h}\index{C:/Users/fab/src/Github/branches/NeuralAmpModelerPlugin/iPlug2/Dependencies/Build/src/skia/third\_party/externals/icu/source/common/unicode/ubiditransform.h@{C:/Users/fab/src/Github/branches/NeuralAmpModelerPlugin/iPlug2/Dependencies/Build/src/skia/third\_party/externals/icu/source/common/unicode/ubiditransform.h}}


Bidi Transformations.  


{\ttfamily \#include \char`\"{}unicode/utypes.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}unicode/ubidi.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}unicode/uchar.\+h\char`\"{}}\newline
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{U\+Bi\+Di\+Transform}} \mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{U\+Bi\+Di\+Transform}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbab}{U\+Bi\+Di\+Order}} \{ \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362}{U\+B\+I\+D\+I\+\_\+\+L\+O\+G\+I\+C\+AL}} = 0, 
\mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627}{U\+B\+I\+D\+I\+\_\+\+V\+I\+S\+U\+AL}}
 \}
\item 
enum \mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140}{U\+Bi\+Di\+Mirroring}} \{ \mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140ae69f35f936883ae2bc592a79abac03f8}{U\+B\+I\+D\+I\+\_\+\+M\+I\+R\+R\+O\+R\+I\+N\+G\+\_\+\+O\+FF}} = 0, 
\mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140a29d12daa732e047e5d2ecf49ab5a4b15}{U\+B\+I\+D\+I\+\_\+\+M\+I\+R\+R\+O\+R\+I\+N\+G\+\_\+\+ON}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} uint32\+\_\+t U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{ubiditransform_8h_a2ed472099343fa3e77f3ece6b0067444}{ubiditransform\+\_\+transform}} (\mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{U\+Bi\+Di\+Transform}} $\ast$p\+Bi\+Di\+Transform, const \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{U\+Char}} $\ast$src, int32\+\_\+t src\+Length, \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{U\+Char}} $\ast$dest, int32\+\_\+t dest\+Size, \mbox{\hyperlink{ubidi_8h_ab2460a19f323ab9787a79a95db91a606}{U\+Bi\+Di\+Level}} in\+Para\+Level, \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbab}{U\+Bi\+Di\+Order}} in\+Order, \mbox{\hyperlink{ubidi_8h_ab2460a19f323ab9787a79a95db91a606}{U\+Bi\+Di\+Level}} out\+Para\+Level, \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbab}{U\+Bi\+Di\+Order}} out\+Order, \mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140}{U\+Bi\+Di\+Mirroring}} do\+Mirroring, uint32\+\_\+t shaping\+Options, \mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$p\+Error\+Code)
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} \mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{U\+Bi\+Di\+Transform}} $\ast$U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{ubiditransform_8h_ad8dcf281c170a1df45686f63b87a1871}{ubiditransform\+\_\+open}} (\mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$p\+Error\+Code)
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{ubiditransform_8h_ab1534ca66e5c7d25a9cdddda6134f564}{ubiditransform\+\_\+close}} (\mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{U\+Bi\+Di\+Transform}} $\ast$p\+Bidi\+Transform)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Bidi Transformations. 



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}\label{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}} 
\index{ubiditransform.h@{ubiditransform.h}!UBiDiTransform@{UBiDiTransform}}
\index{UBiDiTransform@{UBiDiTransform}!ubiditransform.h@{ubiditransform.h}}
\doxysubsubsection{\texorpdfstring{UBiDiTransform}{UBiDiTransform}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{U\+Bi\+Di\+Transform}} \mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{U\+Bi\+Di\+Transform}}}

Forward declaration of the {\ttfamily U\+Bi\+Di\+Transform} structure that stores information used by the layout transformation engine. @stable I\+CU 58 

\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140}\label{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140}} 
\index{ubiditransform.h@{ubiditransform.h}!UBiDiMirroring@{UBiDiMirroring}}
\index{UBiDiMirroring@{UBiDiMirroring}!ubiditransform.h@{ubiditransform.h}}
\doxysubsubsection{\texorpdfstring{UBiDiMirroring}{UBiDiMirroring}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140}{U\+Bi\+Di\+Mirroring}}}

{\ttfamily U\+Bi\+Di\+Mirroring} indicates whether or not characters with the \char`\"{}mirrored\char`\"{} property in R\+TL runs should be replaced with their mirror-\/image counterparts. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{ubidi_8h_a0b1370dda1e3ad8ef9c94fd28320153d}{U\+B\+I\+D\+I\+\_\+\+D\+O\+\_\+\+M\+I\+R\+R\+O\+R\+I\+NG}} 

\mbox{\hyperlink{ubidi_8h_aa2bb38555d3de014f0b0882bd18eafe7}{ubidi\+\_\+set\+Reordering\+Options}} 

\mbox{\hyperlink{ubidi_8h_a353e323fbd7d5dcee6e2ab50d6f1a3e4}{ubidi\+\_\+write\+Reordered}} 

\mbox{\hyperlink{ubidi_8h_ac73081eaa24caa3da16a41a3c1971548}{ubidi\+\_\+write\+Reverse}} @stable I\+CU 58 
\end{DoxySeeAlso}
\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{UBIDI\_MIRRORING\_OFF@{UBIDI\_MIRRORING\_OFF}!ubiditransform.h@{ubiditransform.h}}\index{ubiditransform.h@{ubiditransform.h}!UBIDI\_MIRRORING\_OFF@{UBIDI\_MIRRORING\_OFF}}}\mbox{\Hypertarget{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140ae69f35f936883ae2bc592a79abac03f8}\label{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140ae69f35f936883ae2bc592a79abac03f8}} 
U\+B\+I\+D\+I\+\_\+\+M\+I\+R\+R\+O\+R\+I\+N\+G\+\_\+\+O\+FF&0\+: Constant indicating that character mirroring should not be performed. This is the default. @stable I\+CU 58 \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{UBIDI\_MIRRORING\_ON@{UBIDI\_MIRRORING\_ON}!ubiditransform.h@{ubiditransform.h}}\index{ubiditransform.h@{ubiditransform.h}!UBIDI\_MIRRORING\_ON@{UBIDI\_MIRRORING\_ON}}}\mbox{\Hypertarget{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140a29d12daa732e047e5d2ecf49ab5a4b15}\label{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140a29d12daa732e047e5d2ecf49ab5a4b15}} 
U\+B\+I\+D\+I\+\_\+\+M\+I\+R\+R\+O\+R\+I\+N\+G\+\_\+\+ON&1\+: Constant indicating that character mirroring should be performed. This corresponds to calling {\ttfamily ubidi\+\_\+write\+Reordered} or {\ttfamily ubidi\+\_\+write\+Reverse} with the {\ttfamily U\+B\+I\+D\+I\+\_\+\+D\+O\+\_\+\+M\+I\+R\+R\+O\+R\+I\+NG} option bit set. @stable I\+CU 58 \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbab}\label{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbab}} 
\index{ubiditransform.h@{ubiditransform.h}!UBiDiOrder@{UBiDiOrder}}
\index{UBiDiOrder@{UBiDiOrder}!ubiditransform.h@{ubiditransform.h}}
\doxysubsubsection{\texorpdfstring{UBiDiOrder}{UBiDiOrder}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbab}{U\+Bi\+Di\+Order}}}

{\ttfamily U\+Bi\+Di\+Order} indicates the order of text.

This bidi transformation engine supports all possible combinations (4 in total) of input and output text order\+:


\begin{DoxyItemize}
\item $<$logical input, visual output$>$\+: unless the output direction is R\+TL, this corresponds to a normal operation of the Bidi algorithm as described in the Unicode Technical Report and implemented by {\ttfamily U\+Bi\+Di} when the reordering mode is set to {\ttfamily U\+B\+I\+D\+I\+\_\+\+R\+E\+O\+R\+D\+E\+R\+\_\+\+D\+E\+F\+A\+U\+LT}. Visual R\+TL mode is not supported by {\ttfamily U\+Bi\+Di} and is accomplished through reversing a visual L\+TR string,
\item $<$visual input, logical output$>$\+: unless the input direction is R\+TL, this corresponds to an \char`\"{}inverse bidi algorithm\char`\"{} in {\ttfamily U\+Bi\+Di} with the reordering mode set to {\ttfamily U\+B\+I\+D\+I\+\_\+\+R\+E\+O\+R\+D\+E\+R\+\_\+\+I\+N\+V\+E\+R\+S\+E\+\_\+\+L\+I\+K\+E\+\_\+\+D\+I\+R\+E\+CT}. Visual R\+TL mode is not not supported by {\ttfamily U\+Bi\+Di} and is accomplished through reversing a visual L\+TR string,
\item $<$logical input, logical output$>$\+: if the input and output base directions mismatch, this corresponds to the {\ttfamily U\+Bi\+Di} implementation with the reordering mode set to {\ttfamily U\+B\+I\+D\+I\+\_\+\+R\+E\+O\+R\+D\+E\+R\+\_\+\+R\+U\+N\+S\+\_\+\+O\+N\+LY}; and if the input and output base directions are identical, the transformation engine will only handle character mirroring and Arabic shaping operations without reordering,
\item $<$visual input, visual output$>$\+: this reordering mode is not supported by the {\ttfamily U\+Bi\+Di} engine; it implies character mirroring, Arabic shaping, and -\/ if the input/output base directions mismatch -\/ string reverse operations. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{ubidi_8h_ad071b1089276ba8044ae6e00b13271ad}{ubidi\+\_\+set\+Inverse}} 

\mbox{\hyperlink{ubidi_8h_a0096e01b6cedb7802cae5a6ef9b56e58}{ubidi\+\_\+set\+Reordering\+Mode}} 

\mbox{\hyperlink{ubidi_8h_a88693e5a8ad4be974dc90ec6b8db56dfac366446a9080bf062aca0080e9effc5b}{U\+B\+I\+D\+I\+\_\+\+R\+E\+O\+R\+D\+E\+R\+\_\+\+D\+E\+F\+A\+U\+LT}} 

\mbox{\hyperlink{ubidi_8h_a88693e5a8ad4be974dc90ec6b8db56dfa8ca4fe9b9d87e67c37c8a80bed3147aa}{U\+B\+I\+D\+I\+\_\+\+R\+E\+O\+R\+D\+E\+R\+\_\+\+I\+N\+V\+E\+R\+S\+E\+\_\+\+L\+I\+K\+E\+\_\+\+D\+I\+R\+E\+CT}} 

\mbox{\hyperlink{ubidi_8h_a88693e5a8ad4be974dc90ec6b8db56dfa103b373c5933dd91cbfb2382b77bde8d}{U\+B\+I\+D\+I\+\_\+\+R\+E\+O\+R\+D\+E\+R\+\_\+\+R\+U\+N\+S\+\_\+\+O\+N\+LY}} @stable I\+CU 58 
\end{DoxySeeAlso}

\end{DoxyItemize}\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{UBIDI\_LOGICAL@{UBIDI\_LOGICAL}!ubiditransform.h@{ubiditransform.h}}\index{ubiditransform.h@{ubiditransform.h}!UBIDI\_LOGICAL@{UBIDI\_LOGICAL}}}\mbox{\Hypertarget{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362}\label{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362}} 
U\+B\+I\+D\+I\+\_\+\+L\+O\+G\+I\+C\+AL&0\+: Constant indicating a logical order. This is the default for input text. @stable I\+CU 58 \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{UBIDI\_VISUAL@{UBIDI\_VISUAL}!ubiditransform.h@{ubiditransform.h}}\index{ubiditransform.h@{ubiditransform.h}!UBIDI\_VISUAL@{UBIDI\_VISUAL}}}\mbox{\Hypertarget{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627}\label{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627}} 
U\+B\+I\+D\+I\+\_\+\+V\+I\+S\+U\+AL&1\+: Constant indicating a visual order. This is a default for output text. @stable I\+CU 58 \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ubiditransform_8h_ab1534ca66e5c7d25a9cdddda6134f564}\label{ubiditransform_8h_ab1534ca66e5c7d25a9cdddda6134f564}} 
\index{ubiditransform.h@{ubiditransform.h}!ubiditransform\_close@{ubiditransform\_close}}
\index{ubiditransform\_close@{ubiditransform\_close}!ubiditransform.h@{ubiditransform.h}}
\doxysubsubsection{\texorpdfstring{ubiditransform\_close()}{ubiditransform\_close()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 ubiditransform\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{U\+Bi\+Di\+Transform}} $\ast$}]{p\+Bidi\+Transform }\end{DoxyParamCaption})}

Deallocates the given {\ttfamily U\+Bi\+Di\+Transform} object. @stable I\+CU 58 \mbox{\Hypertarget{ubiditransform_8h_ad8dcf281c170a1df45686f63b87a1871}\label{ubiditransform_8h_ad8dcf281c170a1df45686f63b87a1871}} 
\index{ubiditransform.h@{ubiditransform.h}!ubiditransform\_open@{ubiditransform\_open}}
\index{ubiditransform\_open@{ubiditransform\_open}!ubiditransform.h@{ubiditransform.h}}
\doxysubsubsection{\texorpdfstring{ubiditransform\_open()}{ubiditransform\_open()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} \mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{U\+Bi\+Di\+Transform}}$\ast$ U\+\_\+\+E\+X\+P\+O\+R\+T2 ubiditransform\+\_\+open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$}]{p\+Error\+Code }\end{DoxyParamCaption})}

Allocates a {\ttfamily U\+Bi\+Di\+Transform} object. This object can be reused, e.\+g. with different ordering schemes, mirroring or shaping options.

{\bfseries{Note\+:}}The object can only be reused in the same thread. All other threads should allocate a new {\ttfamily U\+Bi\+Di\+Transform} object before using it.

Example of usage\+:


\begin{DoxyPre}

\begin{DoxyCode}{0}
\DoxyCodeLine{  \mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{UErrorCode}} errorCode = \mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78caa43dbfc9499c5f911d04e1a0ca3bf6f9}{U\_ZERO\_ERROR}};}
\DoxyCodeLine{  \textcolor{comment}{// Open a new UBiDiTransform.}}
\DoxyCodeLine{  \mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{UBiDiTransform}}* transform = \mbox{\hyperlink{ubiditransform_8h_ad8dcf281c170a1df45686f63b87a1871}{ubiditransform\_open}}(\&errorCode);}
\DoxyCodeLine{  \textcolor{comment}{// Run a transformation.}}
\DoxyCodeLine{  \mbox{\hyperlink{ubiditransform_8h_a2ed472099343fa3e77f3ece6b0067444}{ubiditransform\_transform}}(transform,}
\DoxyCodeLine{           text1, -\/1, text2, -\/1,}
\DoxyCodeLine{           \mbox{\hyperlink{ubidi_8h_a68a6b5fdcbf80aaa51b5bd39f7f31102a73e659e3118b58f822cc1384e7fcd8ec}{UBIDI\_RTL}}, \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362}{UBIDI\_LOGICAL}},}
\DoxyCodeLine{           \mbox{\hyperlink{ubidi_8h_a68a6b5fdcbf80aaa51b5bd39f7f31102a3378628e1b7851cd6d00e7f74d29f6c3}{UBIDI\_LTR}}, \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627}{UBIDI\_VISUAL}},}
\DoxyCodeLine{           \mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140a29d12daa732e047e5d2ecf49ab5a4b15}{UBIDI\_MIRRORING\_ON}},}
\DoxyCodeLine{           \mbox{\hyperlink{ushape_8h_ad2a55f99c617158f846c246bc2d08e0e}{U\_SHAPE\_DIGITS\_EN2AN}},}
\DoxyCodeLine{           \&errorCode);}
\DoxyCodeLine{  \textcolor{comment}{// Do something with the output text and invoke another transformation using}}
\DoxyCodeLine{  \textcolor{comment}{//   that text as input.}}
\DoxyCodeLine{  \mbox{\hyperlink{ubiditransform_8h_a2ed472099343fa3e77f3ece6b0067444}{ubiditransform\_transform}}(transform,}
\DoxyCodeLine{           text2, -\/1, text3, -\/1,}
\DoxyCodeLine{           \mbox{\hyperlink{ubidi_8h_a68a6b5fdcbf80aaa51b5bd39f7f31102a3378628e1b7851cd6d00e7f74d29f6c3}{UBIDI\_LTR}}, \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627}{UBIDI\_VISUAL}},}
\DoxyCodeLine{           \mbox{\hyperlink{ubidi_8h_a68a6b5fdcbf80aaa51b5bd39f7f31102a73e659e3118b58f822cc1384e7fcd8ec}{UBIDI\_RTL}}, \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627}{UBIDI\_VISUAL}},}
\DoxyCodeLine{           \mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140a29d12daa732e047e5d2ecf49ab5a4b15}{UBIDI\_MIRRORING\_ON}},}
\DoxyCodeLine{           0, \&errorCode);}
\DoxyCodeLine{*}
\end{DoxyCode}

  \end{DoxyPre}
 

The {\ttfamily U\+Bi\+Di\+Transform} object must be deallocated by calling {\ttfamily \mbox{\hyperlink{ubiditransform_8h_ab1534ca66e5c7d25a9cdddda6134f564}{ubiditransform\+\_\+close()}}}.

\begin{DoxyReturn}{Returns}
An empty {\ttfamily U\+Bi\+Di\+Transform} object. @stable I\+CU 58 
\end{DoxyReturn}
\mbox{\Hypertarget{ubiditransform_8h_a2ed472099343fa3e77f3ece6b0067444}\label{ubiditransform_8h_a2ed472099343fa3e77f3ece6b0067444}} 
\index{ubiditransform.h@{ubiditransform.h}!ubiditransform\_transform@{ubiditransform\_transform}}
\index{ubiditransform\_transform@{ubiditransform\_transform}!ubiditransform.h@{ubiditransform.h}}
\doxysubsubsection{\texorpdfstring{ubiditransform\_transform()}{ubiditransform\_transform()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} uint32\+\_\+t U\+\_\+\+E\+X\+P\+O\+R\+T2 ubiditransform\+\_\+transform (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ubiditransform_8h_a3dec2965749dcf801e9f6aec852ef9ae}{U\+Bi\+Di\+Transform}} $\ast$}]{p\+Bi\+Di\+Transform,  }\item[{const \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{U\+Char}} $\ast$}]{src,  }\item[{int32\+\_\+t}]{src\+Length,  }\item[{\mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{U\+Char}} $\ast$}]{dest,  }\item[{int32\+\_\+t}]{dest\+Size,  }\item[{\mbox{\hyperlink{ubidi_8h_ab2460a19f323ab9787a79a95db91a606}{U\+Bi\+Di\+Level}}}]{in\+Para\+Level,  }\item[{\mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbab}{U\+Bi\+Di\+Order}}}]{in\+Order,  }\item[{\mbox{\hyperlink{ubidi_8h_ab2460a19f323ab9787a79a95db91a606}{U\+Bi\+Di\+Level}}}]{out\+Para\+Level,  }\item[{\mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbab}{U\+Bi\+Di\+Order}}}]{out\+Order,  }\item[{\mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140}{U\+Bi\+Di\+Mirroring}}}]{do\+Mirroring,  }\item[{uint32\+\_\+t}]{shaping\+Options,  }\item[{\mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$}]{p\+Error\+Code }\end{DoxyParamCaption})}

Performs transformation of text from the bidi layout defined by the input ordering scheme to the bidi layout defined by the output ordering scheme, and applies character mirroring and Arabic shaping operations.

In terms of {\ttfamily U\+Bi\+Di}, such a transformation implies\+: 
\begin{DoxyItemize}
\item calling {\ttfamily ubidi\+\_\+set\+Reordering\+Mode} as needed (when the reordering mode is other than normal), 
\item calling {\ttfamily ubidi\+\_\+set\+Inverse} as needed (when text should be transformed from a visual to a logical form), 
\item resolving embedding levels of each character in the input text by calling {\ttfamily ubidi\+\_\+set\+Para}, 
\item reordering the characters based on the computed embedding levels, also performing character mirroring as needed, and streaming the result to the output, by calling {\ttfamily ubidi\+\_\+write\+Reordered}, 
\item performing Arabic digit and letter shaping on the output text by calling {\ttfamily u\+\_\+shape\+Arabic}. 
\end{DoxyItemize}An \char`\"{}ordering scheme\char`\"{} encompasses the base direction and the order of text, and these characteristics must be defined by the caller for both input and output explicitly .

There are 36 possible combinations of $<$input, output$>$ ordering schemes, which are partially supported by {\ttfamily U\+Bi\+Di} already. Examples of the currently supported combinations\+: 
\begin{DoxyItemize}
\item $<$Logical L\+TR, Visual L\+TR$>$\+: this is equivalent to calling {\ttfamily ubidi\+\_\+set\+Para} with {\ttfamily para\+Level == U\+B\+I\+D\+I\+\_\+\+L\+TR}, 
\item $<$Logical R\+TL, Visual L\+TR$>$\+: this is equivalent to calling {\ttfamily ubidi\+\_\+set\+Para} with {\ttfamily para\+Level == U\+B\+I\+D\+I\+\_\+\+R\+TL}, 
\item $<$Logical Default (\char`\"{}\+Auto\char`\"{}) L\+TR, Visual L\+TR$>$\+: this is equivalent to calling {\ttfamily ubidi\+\_\+set\+Para} with {\ttfamily para\+Level == U\+B\+I\+D\+I\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+L\+TR}, 
\item $<$Logical Default (\char`\"{}\+Auto\char`\"{}) R\+TL, Visual L\+TR$>$\+: this is equivalent to calling {\ttfamily ubidi\+\_\+set\+Para} with {\ttfamily para\+Level == U\+B\+I\+D\+I\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+R\+TL}, 
\item $<$Visual L\+TR, Logical L\+TR$>$\+: this is equivalent to calling {\ttfamily ubidi\+\_\+set\+Inverse(\+U\+Bi\+Di$\ast$, true)} and then {\ttfamily ubidi\+\_\+set\+Para} with {\ttfamily para\+Level == U\+B\+I\+D\+I\+\_\+\+L\+TR}, 
\item $<$Visual L\+TR, Logical R\+TL$>$\+: this is equivalent to calling {\ttfamily ubidi\+\_\+set\+Inverse(\+U\+Bi\+Di$\ast$, true)} and then {\ttfamily ubidi\+\_\+set\+Para} with {\ttfamily para\+Level == U\+B\+I\+D\+I\+\_\+\+R\+TL}. 
\end{DoxyItemize}All combinations that involve the Visual R\+TL scheme are unsupported by {\ttfamily U\+Bi\+Di}, for instance\+: 
\begin{DoxyItemize}
\item $<$Logical L\+TR, Visual R\+TL$>$, 
\item $<$Visual R\+TL, Logical R\+TL$>$. 
\end{DoxyItemize}

Example of usage of the transformation engine\+:~\newline
 
\begin{DoxyPre}

\begin{DoxyCode}{0}
\DoxyCodeLine{  \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{UChar}} text1[] = \{\textcolor{charliteral}{'a'}, \textcolor{charliteral}{'b'}, \textcolor{charliteral}{'c'}, 0x0625, \textcolor{charliteral}{'1'}, 0\};}
\DoxyCodeLine{  \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{UChar}} text2[] = \{\textcolor{charliteral}{'a'}, \textcolor{charliteral}{'b'}, \textcolor{charliteral}{'c'}, 0x0625, \textcolor{charliteral}{'1'}, 0\};}
\DoxyCodeLine{  \mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{UErrorCode}} errorCode = \mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78caa43dbfc9499c5f911d04e1a0ca3bf6f9}{U\_ZERO\_ERROR}};}
\DoxyCodeLine{  \textcolor{comment}{// Run a transformation.}}
\DoxyCodeLine{  \mbox{\hyperlink{ubiditransform_8h_a2ed472099343fa3e77f3ece6b0067444}{ubiditransform\_transform}}(pBidiTransform,}
\DoxyCodeLine{           text1, -\/1, text2, -\/1,}
\DoxyCodeLine{           \mbox{\hyperlink{ubidi_8h_a68a6b5fdcbf80aaa51b5bd39f7f31102a3378628e1b7851cd6d00e7f74d29f6c3}{UBIDI\_LTR}}, \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627}{UBIDI\_VISUAL}},}
\DoxyCodeLine{           \mbox{\hyperlink{ubidi_8h_a68a6b5fdcbf80aaa51b5bd39f7f31102a73e659e3118b58f822cc1384e7fcd8ec}{UBIDI\_RTL}}, \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362}{UBIDI\_LOGICAL}},}
\DoxyCodeLine{           \mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140ae69f35f936883ae2bc592a79abac03f8}{UBIDI\_MIRRORING\_OFF}},}
\DoxyCodeLine{           \mbox{\hyperlink{ushape_8h_ab64949486e9c70a4452903d6938d8198}{U\_SHAPE\_DIGITS\_AN2EN}} | \mbox{\hyperlink{ushape_8h_ad702c7e0c649d5cb2ac70d3e0a820cb1}{U\_SHAPE\_DIGIT\_TYPE\_AN\_EXTENDED}},}
\DoxyCodeLine{           \&errorCode);}
\DoxyCodeLine{  \textcolor{comment}{// Do something with text2.}}
\DoxyCodeLine{   text2[4] = \textcolor{charliteral}{'2'};}
\DoxyCodeLine{  \textcolor{comment}{// Run a reverse transformation.}}
\DoxyCodeLine{  \mbox{\hyperlink{ubiditransform_8h_a2ed472099343fa3e77f3ece6b0067444}{ubiditransform\_transform}}(pBidiTransform,}
\DoxyCodeLine{           text2, -\/1, text1, -\/1,}
\DoxyCodeLine{           \mbox{\hyperlink{ubidi_8h_a68a6b5fdcbf80aaa51b5bd39f7f31102a73e659e3118b58f822cc1384e7fcd8ec}{UBIDI\_RTL}}, \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362}{UBIDI\_LOGICAL}},}
\DoxyCodeLine{           \mbox{\hyperlink{ubidi_8h_a68a6b5fdcbf80aaa51b5bd39f7f31102a3378628e1b7851cd6d00e7f74d29f6c3}{UBIDI\_LTR}}, \mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627}{UBIDI\_VISUAL}},}
\DoxyCodeLine{           \mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140ae69f35f936883ae2bc592a79abac03f8}{UBIDI\_MIRRORING\_OFF}},}
\DoxyCodeLine{           \mbox{\hyperlink{ushape_8h_ad2a55f99c617158f846c246bc2d08e0e}{U\_SHAPE\_DIGITS\_EN2AN}} | \mbox{\hyperlink{ushape_8h_ad702c7e0c649d5cb2ac70d3e0a820cb1}{U\_SHAPE\_DIGIT\_TYPE\_AN\_EXTENDED}},}
\DoxyCodeLine{           \&errorCode);}
\DoxyCodeLine{*}
\end{DoxyCode}

  \end{DoxyPre}
 


\begin{DoxyParams}{Parameters}
{\em p\+Bi\+Di\+Transform} & A pointer to a {\ttfamily U\+Bi\+Di\+Transform} object allocated with {\ttfamily \mbox{\hyperlink{ubiditransform_8h_ad8dcf281c170a1df45686f63b87a1871}{ubiditransform\+\_\+open()}}} or {\ttfamily N\+U\+LL}.\\
\hline
\end{DoxyParams}
This object serves for one-\/time setup to amortize initialization overheads. Use of this object is not thread-\/safe. All other threads should allocate a new {\ttfamily U\+Bi\+Di\+Transform} object by calling {\ttfamily \mbox{\hyperlink{ubiditransform_8h_ad8dcf281c170a1df45686f63b87a1871}{ubiditransform\+\_\+open()}}} before using it. Alternatively, a caller can set this parameter to {\ttfamily N\+U\+LL}, in which case the object will be allocated by the engine on the fly.


\begin{DoxyParams}{Parameters}
{\em src} & A pointer to the text that the Bidi layout transformations will be performed on. \\
\hline
\end{DoxyParams}
{\bfseries{Note\+:}} the text must be (at least) {\ttfamily src\+Length} long.


\begin{DoxyParams}{Parameters}
{\em src\+Length} & The length of the text, in number of U\+Chars. If {\ttfamily length == -\/1} then the text must be zero-\/terminated. \\
\hline
{\em dest} & A pointer to where the processed text is to be copied. \\
\hline
{\em dest\+Size} & The size of the {\ttfamily dest} buffer, in number of U\+Chars. If the {\ttfamily U\+\_\+\+S\+H\+A\+P\+E\+\_\+\+L\+E\+T\+T\+E\+R\+S\+\_\+\+U\+N\+S\+H\+A\+PE} option is set, then the destination length could be as large as {\ttfamily src\+Length $\ast$ 2}. Otherwise, the destination length will not exceed {\ttfamily src\+Length}. If the caller reserves the last position for zero-\/termination, it should be excluded from {\ttfamily dest\+Size}. \\
\hline
\end{DoxyParams}
{\ttfamily dest\+Size == -\/1} is allowed and makes sense when {\ttfamily dest} was holds some meaningful value, e.\+g. that of {\ttfamily src}. In this case {\ttfamily dest} must be zero-\/terminated.


\begin{DoxyParams}{Parameters}
{\em in\+Para\+Level} & A base embedding level of the input as defined in {\ttfamily ubidi\+\_\+set\+Para} documentation for the {\ttfamily para\+Level} parameter. \\
\hline
{\em in\+Order} & An order of the input, which can be one of the {\ttfamily U\+Bi\+Di\+Order} values. \\
\hline
{\em out\+Para\+Level} & A base embedding level of the output as defined in {\ttfamily ubidi\+\_\+set\+Para} documentation for the {\ttfamily para\+Level} parameter. \\
\hline
{\em out\+Order} & An order of the output, which can be one of the {\ttfamily U\+Bi\+Di\+Order} values. \\
\hline
{\em do\+Mirroring} & Indicates whether or not to perform character mirroring, and can accept one of the {\ttfamily U\+Bi\+Di\+Mirroring} values. \\
\hline
{\em shaping\+Options} & Arabic digit and letter shaping options defined in the \mbox{\hyperlink{ushape_8h}{ushape.\+h}} documentation. \\
\hline
\end{DoxyParams}
{\bfseries{Note\+:}} Direction indicator options are computed by the transformation engine based on the effective ordering schemes, so user-\/defined direction indicators will be ignored.


\begin{DoxyParams}{Parameters}
{\em p\+Error\+Code} & A pointer to an error code value.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The destination length, i.\+e. the number of U\+Chars written to {\ttfamily dest}. If the transformation fails, the return value will be 0 (and the error code will be written to {\ttfamily p\+Error\+Code}).
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{ubidi_8h_ab2460a19f323ab9787a79a95db91a606}{U\+Bi\+Di\+Level}} 

\mbox{\hyperlink{ubiditransform_8h_a6f638f184d3f60e874b15f587fe6bbab}{U\+Bi\+Di\+Order}} 

\mbox{\hyperlink{ubiditransform_8h_aa10286fa01a861e22070ba2e47f03140}{U\+Bi\+Di\+Mirroring}} 

\mbox{\hyperlink{ubidi_8h_acae95f0d8dd2e77386030462ec47afa5}{ubidi\+\_\+set\+Para}} 

\mbox{\hyperlink{ushape_8h_a6316769ef467a9bb1d5da465d18663e5}{u\+\_\+shape\+Arabic}} @stable I\+CU 58 
\end{DoxySeeAlso}
