\hypertarget{_c_1_2_users_2fab_2src_2_github_2branches_2_neural_amp_modeler_plugin_2_neural_amp_modeler_2_neudcfface7fee2564e924a31cba3aa701c}{}\doxysection{C\+:/\+Users/fab/src/\+Github/branches/\+Neural\+Amp\+Modeler\+Plugin/\+Neural\+Amp\+Modeler/\+Neural\+Amp\+Modeler\+Core/\+Dependencies/eigen/unsupported/\+Eigen/\+C\+X\+X11/src/\+Tensor/\+Tensor\+Layout\+Swap.\+h}
Tensor$<$float, 2, Col\+Major$>$ input(2, 4); Tensor$<$float, 2, Row\+Major$>$ output = input.\+swap\+\_\+layout(); eigen\+\_\+assert(output.\+dimension(0) == 4); eigen\+\_\+assert(output.\+dimension(1) == 2);

array$<$int, 2$>$ shuffle(1, 0); output = input.\+swap\+\_\+layout().shuffle(shuffle); eigen\+\_\+assert(output.\+dimension(0) == 2); eigen\+\_\+assert(output.\+dimension(1) == 4);


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}}
\DoxyCodeLine{\textcolor{comment}{// for linear algebra.}}
\DoxyCodeLine{\textcolor{comment}{//}}
\DoxyCodeLine{\textcolor{comment}{// Copyright (C) 2014 Benoit Steiner <benoit.steiner.goog@gmail.com>}}
\DoxyCodeLine{\textcolor{comment}{//}}
\DoxyCodeLine{\textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}}
\DoxyCodeLine{\textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}}
\DoxyCodeLine{\textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#ifndef EIGEN\_CXX11\_TENSOR\_TENSOR\_LAYOUT\_SWAP\_H}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define EIGEN\_CXX11\_TENSOR\_TENSOR\_LAYOUT\_SWAP\_H}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "./InternalHeaderCheck.h"}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_eigen}{Eigen}} \{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename} XprType>}
\DoxyCodeLine{\textcolor{keyword}{struct }traits<TensorLayoutSwapOp<XprType> > : \textcolor{keyword}{public} traits<XprType>}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprType::Scalar Scalar;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} traits<XprType> XprTraits;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprTraits::StorageKind StorageKind;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprTraits::Index \mbox{\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}};}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprType::Nested Nested;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} std::remove\_reference\_t<Nested> Nested\_;}
\DoxyCodeLine{  \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} NumDimensions = traits<XprType>::NumDimensions;}
\DoxyCodeLine{  \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} Layout = (traits<XprType>::Layout == \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor}}) ? \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13acfcde9cd8677c5f7caf6bd603666aae3}{RowMajor}} : \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor}};}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprTraits::PointerType PointerType;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename} XprType>}
\DoxyCodeLine{\textcolor{keyword}{struct }eval<TensorLayoutSwapOp<XprType>, \mbox{\hyperlink{namespace_eigen}{Eigen}}::Dense>}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{const} TensorLayoutSwapOp<XprType>\& type;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename} XprType>}
\DoxyCodeLine{\textcolor{keyword}{struct }nested<TensorLayoutSwapOp<XprType>, 1, typename eval<TensorLayoutSwapOp<XprType> >::type>}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keyword}{typedef} TensorLayoutSwapOp<XprType> type;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\}  \textcolor{comment}{// end namespace internal}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename} XprType>}
\DoxyCodeLine{\textcolor{keyword}{class }TensorLayoutSwapOp : \textcolor{keyword}{public} TensorBase<TensorLayoutSwapOp<XprType>, WriteAccessors>}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keyword}{public}:}
\DoxyCodeLine{    \textcolor{keyword}{typedef} TensorBase<TensorLayoutSwapOp<XprType>, \mbox{\hyperlink{group__enums_gga9f93eac38eb83deb0e8dbd42ddf11d5da2c59ef3697d65866c3a8e16eda7881ab}{WriteAccessors}}> Base;}
\DoxyCodeLine{    \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Eigen::internal::traits<TensorLayoutSwapOp>::Scalar}} Scalar;}
\DoxyCodeLine{    \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Eigen::NumTraits<Scalar>::Real RealScalar;}
\DoxyCodeLine{    \textcolor{keyword}{typedef} std::remove\_const\_t<typename XprType::CoeffReturnType> CoeffReturnType;}
\DoxyCodeLine{    \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Eigen::internal::nested<TensorLayoutSwapOp>::type Nested;}
\DoxyCodeLine{    \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Eigen::internal::traits<TensorLayoutSwapOp>::StorageKind}} StorageKind;}
\DoxyCodeLine{    \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Eigen::internal::traits<TensorLayoutSwapOp>::Index}} Index;}
\DoxyCodeLine{}
\DoxyCodeLine{    EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE TensorLayoutSwapOp(\textcolor{keyword}{const} XprType\& expr)}
\DoxyCodeLine{        : m\_xpr(expr) \{\}}
\DoxyCodeLine{}
\DoxyCodeLine{    EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{    \textcolor{keyword}{const} internal::remove\_all\_t<typename XprType::Nested>\&}
\DoxyCodeLine{    expression()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_xpr; \}}
\DoxyCodeLine{}
\DoxyCodeLine{    EIGEN\_TENSOR\_INHERIT\_ASSIGNMENT\_OPERATORS(TensorLayoutSwapOp)}
\DoxyCodeLine{  \textcolor{keyword}{protected}:}
\DoxyCodeLine{    \textcolor{keyword}{typename} XprType::Nested m\_xpr;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Eval as rvalue}}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename} ArgType, \textcolor{keyword}{typename} Device>}
\DoxyCodeLine{\textcolor{keyword}{struct }TensorEvaluator<const TensorLayoutSwapOp<ArgType>, Device>}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keyword}{typedef} TensorLayoutSwapOp<ArgType> XprType;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprType::Index Index;}
\DoxyCodeLine{  \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} NumDims = internal::array\_size<typename TensorEvaluator<ArgType, Device>::Dimensions>::value;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} DSizes<Index, NumDims> Dimensions;}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} Layout = (TensorEvaluator<ArgType, Device>::Layout == \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor}})) ? \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13acfcde9cd8677c5f7caf6bd603666aae3}{RowMajor}} : \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor}};}
\DoxyCodeLine{  \textcolor{keyword}{enum} \{}
\DoxyCodeLine{    IsAligned = TensorEvaluator<ArgType, Device>::IsAligned,}
\DoxyCodeLine{    PacketAccess = TensorEvaluator<ArgType, Device>::PacketAccess,}
\DoxyCodeLine{    BlockAccess = \textcolor{keyword}{false},}
\DoxyCodeLine{    PreferBlockAccess = TensorEvaluator<ArgType, Device>::PreferBlockAccess,}
\DoxyCodeLine{    CoordAccess = \textcolor{keyword}{false},  \textcolor{comment}{// to be implemented}}
\DoxyCodeLine{    RawAccess = TensorEvaluator<ArgType, Device>::RawAccess}
\DoxyCodeLine{  \};}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{comment}{//===-\/ Tensor block evaluation strategy (see TensorBlock.h) -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/===//}}
\DoxyCodeLine{  \textcolor{keyword}{typedef} internal::TensorBlockNotImplemented TensorBlock;}
\DoxyCodeLine{  \textcolor{comment}{//===-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/===//}}
\DoxyCodeLine{}
\DoxyCodeLine{  EIGEN\_STRONG\_INLINE TensorEvaluator(\textcolor{keyword}{const} XprType\& op, \textcolor{keyword}{const} Device\& device)}
\DoxyCodeLine{      : m\_impl(op.expression(), device)}
\DoxyCodeLine{  \{}
\DoxyCodeLine{    \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < NumDims; ++i) \{}
\DoxyCodeLine{      m\_dimensions[i] = m\_impl.dimensions()[NumDims-\/1-\/i];}
\DoxyCodeLine{    \}}
\DoxyCodeLine{  \}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#ifdef EIGEN\_USE\_SYCL}}
\DoxyCodeLine{  \textcolor{comment}{// binding placeholder accessors to a command group handler for SYCL}}
\DoxyCodeLine{  EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE \textcolor{keywordtype}{void} bind(cl::sycl::handler \&cgh)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{    m\_impl.bind(cgh);}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprType::Scalar Scalar;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprType::CoeffReturnType CoeffReturnType;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} PacketType<CoeffReturnType, Device>::type PacketReturnType;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} StorageMemory<CoeffReturnType, Device> Storage;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Storage::Type EvaluatorPointerType;}
\DoxyCodeLine{}
\DoxyCodeLine{  EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE \textcolor{keyword}{const} Dimensions\& dimensions()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_dimensions; \}}
\DoxyCodeLine{}
\DoxyCodeLine{  EIGEN\_STRONG\_INLINE \textcolor{keywordtype}{bool} evalSubExprsIfNeeded(EvaluatorPointerType data) \{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} m\_impl.evalSubExprsIfNeeded(data);}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  EIGEN\_STRONG\_INLINE \textcolor{keywordtype}{void} cleanup() \{}
\DoxyCodeLine{    m\_impl.cleanup();}
\DoxyCodeLine{  \}}
\DoxyCodeLine{}
\DoxyCodeLine{  EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE CoeffReturnType coeff(\mbox{\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} index)\textcolor{keyword}{ const}}
\DoxyCodeLine{\textcolor{keyword}{  }\{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} m\_impl.coeff(index);}
\DoxyCodeLine{  \}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{template}<\textcolor{keywordtype}{int} LoadMode>}
\DoxyCodeLine{  EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE PacketReturnType packet(\mbox{\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} index)\textcolor{keyword}{ const}}
\DoxyCodeLine{\textcolor{keyword}{  }\{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} m\_impl.template packet<LoadMode>(index);}
\DoxyCodeLine{  \}}
\DoxyCodeLine{}
\DoxyCodeLine{  EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE TensorOpCost costPerCoeff(\textcolor{keywordtype}{bool} vectorized)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} m\_impl.costPerCoeff(vectorized);}
\DoxyCodeLine{  \}}
\DoxyCodeLine{}
\DoxyCodeLine{  EIGEN\_DEVICE\_FUNC \textcolor{keyword}{typename} Storage::Type data()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} constCast(m\_impl.data());}
\DoxyCodeLine{  \}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{const} TensorEvaluator<ArgType, Device>\& impl()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_impl; \}}
\DoxyCodeLine{}
\DoxyCodeLine{ \textcolor{keyword}{protected}:}
\DoxyCodeLine{  TensorEvaluator<ArgType, Device> m\_impl;}
\DoxyCodeLine{  Dimensions m\_dimensions;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Eval as lvalue}}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename} ArgType, \textcolor{keyword}{typename} Device>}
\DoxyCodeLine{  \textcolor{keyword}{struct }TensorEvaluator<TensorLayoutSwapOp<ArgType>, Device>}
\DoxyCodeLine{  : \textcolor{keyword}{public} TensorEvaluator<const TensorLayoutSwapOp<ArgType>, Device>}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keyword}{typedef} TensorEvaluator<const TensorLayoutSwapOp<ArgType>, Device> Base;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} TensorLayoutSwapOp<ArgType> XprType;}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} Layout = (TensorEvaluator<ArgType, Device>::Layout == \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor}})) ? \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13acfcde9cd8677c5f7caf6bd603666aae3}{RowMajor}} : \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor}};}
\DoxyCodeLine{  \textcolor{keyword}{enum} \{}
\DoxyCodeLine{    IsAligned = TensorEvaluator<ArgType, Device>::IsAligned,}
\DoxyCodeLine{    PacketAccess = TensorEvaluator<ArgType, Device>::PacketAccess,}
\DoxyCodeLine{    BlockAccess = \textcolor{keyword}{false},}
\DoxyCodeLine{    PreferBlockAccess = TensorEvaluator<ArgType, Device>::PreferBlockAccess,}
\DoxyCodeLine{    CoordAccess = \textcolor{keyword}{false}  \textcolor{comment}{// to be implemented}}
\DoxyCodeLine{  \};}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{comment}{//===-\/ Tensor block evaluation strategy (see TensorBlock.h) -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/===//}}
\DoxyCodeLine{  \textcolor{keyword}{typedef} internal::TensorBlockNotImplemented TensorBlock;}
\DoxyCodeLine{  \textcolor{comment}{//===-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/===//}}
\DoxyCodeLine{}
\DoxyCodeLine{  EIGEN\_STRONG\_INLINE TensorEvaluator(\textcolor{keyword}{const} XprType\& op, \textcolor{keyword}{const} Device\& device)}
\DoxyCodeLine{    : Base(op, device)}
\DoxyCodeLine{  \{ \}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprType::Index Index;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprType::Scalar Scalar;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprType::CoeffReturnType CoeffReturnType;}
\DoxyCodeLine{  \textcolor{keyword}{typedef} \textcolor{keyword}{typename} PacketType<CoeffReturnType, Device>::type PacketReturnType;}
\DoxyCodeLine{}
\DoxyCodeLine{  EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE CoeffReturnType\& coeffRef(\mbox{\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} index)\textcolor{keyword}{ const}}
\DoxyCodeLine{\textcolor{keyword}{  }\{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} this-\/>m\_impl.coeffRef(index);}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  \textcolor{keyword}{template} <\textcolor{keywordtype}{int} StoreMode> EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{  \textcolor{keywordtype}{void} writePacket(\mbox{\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} index, \textcolor{keyword}{const} PacketReturnType\& x)\textcolor{keyword}{ const}}
\DoxyCodeLine{\textcolor{keyword}{  }\{}
\DoxyCodeLine{    this-\/>m\_impl.template writePacket<StoreMode>(index, x);}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\} \textcolor{comment}{// end namespace Eigen}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#endif // EIGEN\_CXX11\_TENSOR\_TENSOR\_LAYOUT\_SWAP\_H}}
\end{DoxyCodeInclude}
 