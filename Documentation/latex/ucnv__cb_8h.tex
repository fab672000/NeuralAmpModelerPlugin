\hypertarget{ucnv__cb_8h}{}\doxysection{C\+:/\+Users/fab/src/\+Github/branches/\+Neural\+Amp\+Modeler\+Plugin/i\+Plug2/\+Dependencies/\+Build/src/skia/third\+\_\+party/externals/icu/source/common/unicode/ucnv\+\_\+cb.h File Reference}
\label{ucnv__cb_8h}\index{C:/Users/fab/src/Github/branches/NeuralAmpModelerPlugin/iPlug2/Dependencies/Build/src/skia/third\_party/externals/icu/source/common/unicode/ucnv\_cb.h@{C:/Users/fab/src/Github/branches/NeuralAmpModelerPlugin/iPlug2/Dependencies/Build/src/skia/third\_party/externals/icu/source/common/unicode/ucnv\_cb.h}}


C U\+Converter functions to aid the writers of callbacks.  


{\ttfamily \#include \char`\"{}unicode/utypes.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}unicode/ucnv.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}unicode/ucnv\+\_\+err.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{ucnv__cb_8h_a9d84820c9257084a527eb76275c08320}{ucnv\+\_\+cb\+From\+U\+Write\+Bytes}} (\mbox{\hyperlink{struct_u_converter_from_unicode_args}{U\+Converter\+From\+Unicode\+Args}} $\ast$args, const char $\ast$source, int32\+\_\+t length, int32\+\_\+t offset\+Index, \mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$err)
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{ucnv__cb_8h_a939666a18a018c480377d6b540a94135}{ucnv\+\_\+cb\+From\+U\+Write\+Sub}} (\mbox{\hyperlink{struct_u_converter_from_unicode_args}{U\+Converter\+From\+Unicode\+Args}} $\ast$args, int32\+\_\+t offset\+Index, \mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$err)
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{ucnv__cb_8h_a71e846c3c0f90bf914584c4093988a58}{ucnv\+\_\+cb\+From\+U\+Write\+U\+Chars}} (\mbox{\hyperlink{struct_u_converter_from_unicode_args}{U\+Converter\+From\+Unicode\+Args}} $\ast$args, const \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{U\+Char}} $\ast$$\ast$source, const \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{U\+Char}} $\ast$source\+Limit, int32\+\_\+t offset\+Index, \mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$err)
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{ucnv__cb_8h_a94dfadacf085ad38b433de1aff93befa}{ucnv\+\_\+cb\+To\+U\+Write\+U\+Chars}} (\mbox{\hyperlink{struct_u_converter_to_unicode_args}{U\+Converter\+To\+Unicode\+Args}} $\ast$args, const \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{U\+Char}} $\ast$source, int32\+\_\+t length, int32\+\_\+t offset\+Index, \mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$err)
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{ucnv__cb_8h_a061464af5065d07e636991acb6375c31}{ucnv\+\_\+cb\+To\+U\+Write\+Sub}} (\mbox{\hyperlink{struct_u_converter_to_unicode_args}{U\+Converter\+To\+Unicode\+Args}} $\ast$args, int32\+\_\+t offset\+Index, \mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$err)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
C U\+Converter functions to aid the writers of callbacks. 

\doxysubsubsection*{Callback A\+PI for U\+Converter }

These functions are provided here for the convenience of the callback writer. If you are just looking for callback functions to use, please see \mbox{\hyperlink{ucnv__err_8h}{ucnv\+\_\+err.\+h}}. DO N\+OT call these functions directly when you are working with converters, unless your code has been called as a callback via ucnv\+\_\+set\+From\+U\+Callback or ucnv\+\_\+set\+To\+U\+Callback !!

A note about error codes and overflow. Unlike other I\+CU functions, these functions do not expect the error status to be U\+\_\+\+Z\+E\+R\+O\+\_\+\+E\+R\+R\+OR. Callbacks must be much more careful about their error codes. The error codes used here are in/out parameters, which should be passed back in the callback\textquotesingle{}s error parameter.

For example, if you call ucnv\+\_\+cbfrom\+U\+Write\+Bytes to write data out to the output codepage, it may return U\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+O\+V\+E\+R\+F\+L\+O\+W\+\_\+\+E\+R\+R\+OR if the data did not fit in the target. But this isn\textquotesingle{}t a failing error, in fact, ucnv\+\_\+cbfrom\+U\+Write\+Bytes may be called A\+G\+A\+IN with the error status still U\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+O\+V\+E\+R\+F\+L\+O\+W\+\_\+\+E\+R\+R\+OR to attempt to write further bytes, which will also go into the internal overflow buffers.

Concerning offsets, the \textquotesingle{}offset\textquotesingle{} parameters here are relative to the start of S\+O\+U\+R\+CE. For example, Suppose the string \char`\"{}\+A\+B\+C\+D\char`\"{} was being converted from Unicode into a codepage which doesn\textquotesingle{}t have a mapping for \textquotesingle{}B\textquotesingle{}. \textquotesingle{}A\textquotesingle{} will be written out correctly, but The FromU Callback will be called on an unassigned character for \textquotesingle{}B\textquotesingle{}. At this point, this is the state of the world\+: Target\+: A \mbox{[}..\mbox{]} \mbox{[}points after A\mbox{]} Source\+: A B \mbox{[}C\mbox{]} D \mbox{[}points to C -\/ B has been consumed\mbox{]} 0 1 2 3 code\+Point = \char`\"{}\+B\char`\"{} \mbox{[}the unassigned codepoint\mbox{]}

Now, suppose a callback wants to write the substitution character \textquotesingle{}?\textquotesingle{} to the target. It calls \mbox{\hyperlink{ucnv__cb_8h_a9d84820c9257084a527eb76275c08320}{ucnv\+\_\+cb\+From\+U\+Write\+Bytes()}} to write the ?. It should pass Z\+E\+RO as the offset, because the offset as far as the callback is concerned is relative to the S\+O\+U\+R\+CE pointer \mbox{[}which points before \textquotesingle{}C\textquotesingle{}.\mbox{]} If the callback goes into the args and consumes \textquotesingle{}C\textquotesingle{} also, it would call From\+U\+Write\+Bytes with an offset of 1 (and advance the source pointer). 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ucnv__cb_8h_a9d84820c9257084a527eb76275c08320}\label{ucnv__cb_8h_a9d84820c9257084a527eb76275c08320}} 
\index{ucnv\_cb.h@{ucnv\_cb.h}!ucnv\_cbFromUWriteBytes@{ucnv\_cbFromUWriteBytes}}
\index{ucnv\_cbFromUWriteBytes@{ucnv\_cbFromUWriteBytes}!ucnv\_cb.h@{ucnv\_cb.h}}
\doxysubsubsection{\texorpdfstring{ucnv\_cbFromUWriteBytes()}{ucnv\_cbFromUWriteBytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 ucnv\+\_\+cb\+From\+U\+Write\+Bytes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_converter_from_unicode_args}{U\+Converter\+From\+Unicode\+Args}} $\ast$}]{args,  }\item[{const char $\ast$}]{source,  }\item[{int32\+\_\+t}]{length,  }\item[{int32\+\_\+t}]{offset\+Index,  }\item[{\mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$}]{err }\end{DoxyParamCaption})}

O\+N\+LY used by FromU callback functions. Writes out the specified byte output bytes to the target byte buffer or to converter internal buffers.


\begin{DoxyParams}{Parameters}
{\em args} & callback from\+Unicode arguments \\
\hline
{\em source} & source bytes to write \\
\hline
{\em length} & length of bytes to write \\
\hline
{\em offset\+Index} & the relative offset index from callback. \\
\hline
{\em err} & error status. If {\ttfamily U\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+O\+V\+E\+R\+F\+L\+OW} is returned, then U\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+O\+V\+E\+R\+F\+L\+OW {\bfseries{must}} be returned to the user, because it means that not all data could be written into the target buffer, and some is in the converter error buffer. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{ucnv__cb_8h_a939666a18a018c480377d6b540a94135}{ucnv\+\_\+cb\+From\+U\+Write\+Sub}} @stable I\+CU 2.\+0 
\end{DoxySeeAlso}
\mbox{\Hypertarget{ucnv__cb_8h_a939666a18a018c480377d6b540a94135}\label{ucnv__cb_8h_a939666a18a018c480377d6b540a94135}} 
\index{ucnv\_cb.h@{ucnv\_cb.h}!ucnv\_cbFromUWriteSub@{ucnv\_cbFromUWriteSub}}
\index{ucnv\_cbFromUWriteSub@{ucnv\_cbFromUWriteSub}!ucnv\_cb.h@{ucnv\_cb.h}}
\doxysubsubsection{\texorpdfstring{ucnv\_cbFromUWriteSub()}{ucnv\_cbFromUWriteSub()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 ucnv\+\_\+cb\+From\+U\+Write\+Sub (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_converter_from_unicode_args}{U\+Converter\+From\+Unicode\+Args}} $\ast$}]{args,  }\item[{int32\+\_\+t}]{offset\+Index,  }\item[{\mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$}]{err }\end{DoxyParamCaption})}

O\+N\+LY used by FromU callback functions. ~\newline
 This function will write out the correct substitution character sequence to the target.


\begin{DoxyParams}{Parameters}
{\em args} & callback from\+Unicode arguments \\
\hline
{\em offset\+Index} & the relative offset index from the current source pointer to be used \\
\hline
{\em err} & error status. If {\ttfamily U\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+O\+V\+E\+R\+F\+L\+OW} is returned, then U\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+O\+V\+E\+R\+F\+L\+OW {\bfseries{must}} be returned to the user, because it means that not all data could be written into the target buffer, and some is in the converter error buffer. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{ucnv__cb_8h_a9d84820c9257084a527eb76275c08320}{ucnv\+\_\+cb\+From\+U\+Write\+Bytes}} @stable I\+CU 2.\+0 
\end{DoxySeeAlso}
\mbox{\Hypertarget{ucnv__cb_8h_a71e846c3c0f90bf914584c4093988a58}\label{ucnv__cb_8h_a71e846c3c0f90bf914584c4093988a58}} 
\index{ucnv\_cb.h@{ucnv\_cb.h}!ucnv\_cbFromUWriteUChars@{ucnv\_cbFromUWriteUChars}}
\index{ucnv\_cbFromUWriteUChars@{ucnv\_cbFromUWriteUChars}!ucnv\_cb.h@{ucnv\_cb.h}}
\doxysubsubsection{\texorpdfstring{ucnv\_cbFromUWriteUChars()}{ucnv\_cbFromUWriteUChars()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 ucnv\+\_\+cb\+From\+U\+Write\+U\+Chars (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_converter_from_unicode_args}{U\+Converter\+From\+Unicode\+Args}} $\ast$}]{args,  }\item[{const \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{U\+Char}} $\ast$$\ast$}]{source,  }\item[{const \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{U\+Char}} $\ast$}]{source\+Limit,  }\item[{int32\+\_\+t}]{offset\+Index,  }\item[{\mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$}]{err }\end{DoxyParamCaption})}

O\+N\+LY used by fromU callback functions. ~\newline
 This function will write out the error character(s) to the target U\+Char buffer.


\begin{DoxyParams}{Parameters}
{\em args} & callback from\+Unicode arguments \\
\hline
{\em source} & pointer to pointer to first U\+Char to write \mbox{[}on exit\+: 1 after last U\+Char processed\mbox{]} \\
\hline
{\em source\+Limit} & pointer after last U\+Char to write \\
\hline
{\em offset\+Index} & the relative offset index from callback which will be set \\
\hline
{\em err} & error status {\ttfamily U\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+O\+V\+E\+R\+F\+L\+OW} \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{ucnv__cb_8h_a061464af5065d07e636991acb6375c31}{ucnv\+\_\+cb\+To\+U\+Write\+Sub}} @stable I\+CU 2.\+0 
\end{DoxySeeAlso}
\mbox{\Hypertarget{ucnv__cb_8h_a061464af5065d07e636991acb6375c31}\label{ucnv__cb_8h_a061464af5065d07e636991acb6375c31}} 
\index{ucnv\_cb.h@{ucnv\_cb.h}!ucnv\_cbToUWriteSub@{ucnv\_cbToUWriteSub}}
\index{ucnv\_cbToUWriteSub@{ucnv\_cbToUWriteSub}!ucnv\_cb.h@{ucnv\_cb.h}}
\doxysubsubsection{\texorpdfstring{ucnv\_cbToUWriteSub()}{ucnv\_cbToUWriteSub()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 ucnv\+\_\+cb\+To\+U\+Write\+Sub (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_converter_to_unicode_args}{U\+Converter\+To\+Unicode\+Args}} $\ast$}]{args,  }\item[{int32\+\_\+t}]{offset\+Index,  }\item[{\mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$}]{err }\end{DoxyParamCaption})}

O\+N\+LY used by ToU callback functions. ~\newline
 This function will write out the Unicode substitution character (U+\+F\+F\+FD).


\begin{DoxyParams}{Parameters}
{\em args} & callback from\+Unicode arguments \\
\hline
{\em offset\+Index} & the relative offset index from callback. \\
\hline
{\em err} & error status {\ttfamily U\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+O\+V\+E\+R\+F\+L\+OW} \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{ucnv__cb_8h_a94dfadacf085ad38b433de1aff93befa}{ucnv\+\_\+cb\+To\+U\+Write\+U\+Chars}} @stable I\+CU 2.\+0 
\end{DoxySeeAlso}
\mbox{\Hypertarget{ucnv__cb_8h_a94dfadacf085ad38b433de1aff93befa}\label{ucnv__cb_8h_a94dfadacf085ad38b433de1aff93befa}} 
\index{ucnv\_cb.h@{ucnv\_cb.h}!ucnv\_cbToUWriteUChars@{ucnv\_cbToUWriteUChars}}
\index{ucnv\_cbToUWriteUChars@{ucnv\_cbToUWriteUChars}!ucnv\_cb.h@{ucnv\_cb.h}}
\doxysubsubsection{\texorpdfstring{ucnv\_cbToUWriteUChars()}{ucnv\_cbToUWriteUChars()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} void U\+\_\+\+E\+X\+P\+O\+R\+T2 ucnv\+\_\+cb\+To\+U\+Write\+U\+Chars (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_converter_to_unicode_args}{U\+Converter\+To\+Unicode\+Args}} $\ast$}]{args,  }\item[{const \mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{U\+Char}} $\ast$}]{source,  }\item[{int32\+\_\+t}]{length,  }\item[{int32\+\_\+t}]{offset\+Index,  }\item[{\mbox{\hyperlink{utypes_8h_a3343c1c8a8377277046774691c98d78c}{U\+Error\+Code}} $\ast$}]{err }\end{DoxyParamCaption})}

O\+N\+LY used by ToU callback functions. This function will write out the specified characters to the target U\+Char buffer.


\begin{DoxyParams}{Parameters}
{\em args} & callback to\+Unicode arguments \\
\hline
{\em source} & source string to write \\
\hline
{\em length} & the length of source string \\
\hline
{\em offset\+Index} & the relative offset index which will be written. \\
\hline
{\em err} & error status {\ttfamily U\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+O\+V\+E\+R\+F\+L\+OW} \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{ucnv__cb_8h_a061464af5065d07e636991acb6375c31}{ucnv\+\_\+cb\+To\+U\+Write\+Sub}} @stable I\+CU 2.\+0 
\end{DoxySeeAlso}
