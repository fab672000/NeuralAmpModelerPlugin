\hypertarget{utf8_8h}{}\doxysection{C\+:/\+Users/fab/src/\+Github/branches/\+Neural\+Amp\+Modeler\+Plugin/i\+Plug2/\+Dependencies/\+Build/src/skia/third\+\_\+party/externals/icu/source/common/unicode/utf8.h File Reference}
\label{utf8_8h}\index{C:/Users/fab/src/Github/branches/NeuralAmpModelerPlugin/iPlug2/Dependencies/Build/src/skia/third\_party/externals/icu/source/common/unicode/utf8.h@{C:/Users/fab/src/Github/branches/NeuralAmpModelerPlugin/iPlug2/Dependencies/Build/src/skia/third\_party/externals/icu/source/common/unicode/utf8.h}}


C A\+PI\+: 8-\/bit Unicode handling macros.  


{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include \char`\"{}unicode/umachine.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}unicode/utf.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{utf8_8h_ae534bfef078b4f5d09e8da543a779db7}{U8\+\_\+\+C\+O\+U\+N\+T\+\_\+\+T\+R\+A\+I\+L\+\_\+\+B\+Y\+T\+ES}}(lead\+Byte)
\item 
\#define \mbox{\hyperlink{utf8_8h_a32281421a1d07ef0de83e7f44c5d7ba2}{U8\+\_\+\+C\+O\+U\+N\+T\+\_\+\+T\+R\+A\+I\+L\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+U\+N\+S\+A\+FE}}(lead\+Byte)~(((uint8\+\_\+t)(lead\+Byte)$>$=0xc2)+((uint8\+\_\+t)(lead\+Byte)$>$=0xe0)+((uint8\+\_\+t)(lead\+Byte)$>$=0xf0))
\item 
\#define \mbox{\hyperlink{utf8_8h_ae8ed1045986b8bf27814e9bc78388961}{U8\+\_\+\+M\+A\+S\+K\+\_\+\+L\+E\+A\+D\+\_\+\+B\+Y\+TE}}(lead\+Byte,  count\+Trail\+Bytes)~((lead\+Byte)\&=(1$<$$<$(6-\/(count\+Trail\+Bytes)))-\/1)
\item 
\#define \mbox{\hyperlink{utf8_8h_aabfe8ee746b8025ec80ed1977e8ae3c6}{U8\+\_\+\+L\+E\+A\+D3\+\_\+\+T1\+\_\+\+B\+I\+TS}}~\char`\"{}\textbackslash{}x20\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x10\textbackslash{}x30\textbackslash{}x30\char`\"{}
\item 
\#define \mbox{\hyperlink{utf8_8h_a3a06eab6584d228ea835b424e0591aec}{U8\+\_\+\+I\+S\+\_\+\+V\+A\+L\+I\+D\+\_\+\+L\+E\+A\+D3\+\_\+\+A\+N\+D\+\_\+\+T1}}(lead,  t1)~(\mbox{\hyperlink{utf8_8h_aabfe8ee746b8025ec80ed1977e8ae3c6}{U8\+\_\+\+L\+E\+A\+D3\+\_\+\+T1\+\_\+\+B\+I\+TS}}\mbox{[}(lead)\&0xf\mbox{]}\&(1$<$$<$((uint8\+\_\+t)(t1)$>$$>$5)))
\item 
\#define \mbox{\hyperlink{utf8_8h_ab7b00ab82ca3e89d24c4088b2b4e9416}{U8\+\_\+\+L\+E\+A\+D4\+\_\+\+T1\+\_\+\+B\+I\+TS}}~\char`\"{}\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x1\+E\textbackslash{}x0\+F\textbackslash{}x0\+F\textbackslash{}x0\+F\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\char`\"{}
\item 
\#define \mbox{\hyperlink{utf8_8h_a5525576b42e8b7b4240153d9403c47a2}{U8\+\_\+\+I\+S\+\_\+\+V\+A\+L\+I\+D\+\_\+\+L\+E\+A\+D4\+\_\+\+A\+N\+D\+\_\+\+T1}}(lead,  t1)~(\mbox{\hyperlink{utf8_8h_ab7b00ab82ca3e89d24c4088b2b4e9416}{U8\+\_\+\+L\+E\+A\+D4\+\_\+\+T1\+\_\+\+B\+I\+TS}}\mbox{[}(uint8\+\_\+t)(t1)$>$$>$4\mbox{]}\&(1$<$$<$((lead)\&7)))
\item 
\#define \mbox{\hyperlink{utf8_8h_a8f3a9427d880458a9fa6b169a3cc1b3c}{U8\+\_\+\+I\+S\+\_\+\+S\+I\+N\+G\+LE}}(c)~(((c)\&0x80)==0)
\item 
\#define \mbox{\hyperlink{utf8_8h_adb9837ea38dd811524a5b761ddc2a2ca}{U8\+\_\+\+I\+S\+\_\+\+L\+E\+AD}}(c)~((uint8\+\_\+t)((c)-\/0xc2)$<$=0x32)
\item 
\#define \mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\+\_\+\+I\+S\+\_\+\+T\+R\+A\+IL}}(c)~((int8\+\_\+t)(c)$<$-\/0x40)
\item 
\#define \mbox{\hyperlink{utf8_8h_af1730b8bbb3053465ee58702821846f1}{U8\+\_\+\+L\+E\+N\+G\+TH}}(c)
\item 
\#define \mbox{\hyperlink{utf8_8h_aa2298b48749d9f45772c8f5a6885464a}{U8\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH}}~4
\item 
\#define \mbox{\hyperlink{utf8_8h_a125e5e7a4ef2f3f57b078f706b2b67f8}{U8\+\_\+\+G\+E\+T\+\_\+\+U\+N\+S\+A\+FE}}(s,  i,  c)
\item 
\#define \mbox{\hyperlink{utf8_8h_a10a57a084d75604c4a81fb5eec46ae6a}{U8\+\_\+\+G\+ET}}(s,  start,  i,  length,  c)
\item 
\#define \mbox{\hyperlink{utf8_8h_ad13323ca441892bdb6b49b6954ab9ffb}{U8\+\_\+\+G\+E\+T\+\_\+\+O\+R\+\_\+\+F\+F\+FD}}(s,  start,  i,  length,  c)
\item 
\#define \mbox{\hyperlink{utf8_8h_a28ecdb4233301285fc4ce7f9ea1ed644}{U8\+\_\+\+N\+E\+X\+T\+\_\+\+U\+N\+S\+A\+FE}}(s,  i,  c)
\item 
\#define \mbox{\hyperlink{utf8_8h_a57f3e5429ae4edb27a42367c627aa482}{U8\+\_\+\+N\+E\+XT}}(s,  i,  length,  c)~U8\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+N\+E\+X\+T\+\_\+\+O\+R\+\_\+\+S\+UB(s, i, length, c, \mbox{\hyperlink{umachine_8h_a807436737b76a72b76ddf0b900304b4a}{U\+\_\+\+S\+E\+N\+T\+I\+N\+EL}})
\item 
\#define \mbox{\hyperlink{utf8_8h_a7dda2b78867c9d648ad5a0f400fdb1b4}{U8\+\_\+\+N\+E\+X\+T\+\_\+\+O\+R\+\_\+\+F\+F\+FD}}(s,  i,  length,  c)~U8\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+N\+E\+X\+T\+\_\+\+O\+R\+\_\+\+S\+UB(s, i, length, c, 0xfffd)
\item 
\#define {\bfseries U8\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+N\+E\+X\+T\+\_\+\+O\+R\+\_\+\+S\+UB}(s,  i,  length,  c,  sub)
\item 
\#define \mbox{\hyperlink{utf8_8h_a154f04764da5af41729c4df6bf9e09f3}{U8\+\_\+\+A\+P\+P\+E\+N\+D\+\_\+\+U\+N\+S\+A\+FE}}(s,  i,  c)
\item 
\#define \mbox{\hyperlink{utf8_8h_a8a013997e3d13c501ce73bc45e662881}{U8\+\_\+\+A\+P\+P\+E\+ND}}(s,  i,  capacity,  c,  is\+Error)
\item 
\#define \mbox{\hyperlink{utf8_8h_a64a8113aea2125f806cbf5d77294b3cd}{U8\+\_\+\+F\+W\+D\+\_\+1\+\_\+\+U\+N\+S\+A\+FE}}(s,  i)
\item 
\#define \mbox{\hyperlink{utf8_8h_a6d4c94e845b059fddba0c51e9bad87fd}{U8\+\_\+\+F\+W\+D\+\_\+1}}(s,  i,  length)
\item 
\#define \mbox{\hyperlink{utf8_8h_a8e8b4218834110431798cc84a0a664ae}{U8\+\_\+\+F\+W\+D\+\_\+\+N\+\_\+\+U\+N\+S\+A\+FE}}(s,  i,  n)
\item 
\#define \mbox{\hyperlink{utf8_8h_a9a311dc48b8aa1050345b886adabf213}{U8\+\_\+\+F\+W\+D\+\_\+N}}(s,  i,  length,  n)
\item 
\#define \mbox{\hyperlink{utf8_8h_ac46a385dbf64c97337522e1d1875a57e}{U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+S\+T\+A\+R\+T\+\_\+\+U\+N\+S\+A\+FE}}(s,  i)
\item 
\#define \mbox{\hyperlink{utf8_8h_aa6d33627a8a5420a8f61e50da2aeca2a}{U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+S\+T\+A\+RT}}(s,  start,  i)
\item 
\#define \mbox{\hyperlink{utf8_8h_a47528ebb663f83216167be4d28b59230}{U8\+\_\+\+T\+R\+U\+N\+C\+A\+T\+E\+\_\+\+I\+F\+\_\+\+I\+N\+C\+O\+M\+P\+L\+E\+TE}}(s,  start,  length)
\item 
\#define \mbox{\hyperlink{utf8_8h_a5f78eb19a6b25f61dccbae45d6ecf955}{U8\+\_\+\+P\+R\+E\+V\+\_\+\+U\+N\+S\+A\+FE}}(s,  i,  c)
\item 
\#define \mbox{\hyperlink{utf8_8h_a17287c1f01ce84fdf8852a756643b076}{U8\+\_\+\+P\+R\+EV}}(s,  start,  i,  c)
\item 
\#define \mbox{\hyperlink{utf8_8h_aeef5d89106e5cf1c48727100c0b315bd}{U8\+\_\+\+P\+R\+E\+V\+\_\+\+O\+R\+\_\+\+F\+F\+FD}}(s,  start,  i,  c)
\item 
\#define \mbox{\hyperlink{utf8_8h_a3969beb6252f8605ab678990c8af2f48}{U8\+\_\+\+B\+A\+C\+K\+\_\+1\+\_\+\+U\+N\+S\+A\+FE}}(s,  i)
\item 
\#define \mbox{\hyperlink{utf8_8h_adac4ee359e6233cb2990b1047fd5be3c}{U8\+\_\+\+B\+A\+C\+K\+\_\+1}}(s,  start,  i)
\item 
\#define \mbox{\hyperlink{utf8_8h_aa36f62ea4ac87362e376e4cbea10098d}{U8\+\_\+\+B\+A\+C\+K\+\_\+\+N\+\_\+\+U\+N\+S\+A\+FE}}(s,  i,  n)
\item 
\#define \mbox{\hyperlink{utf8_8h_ab0ce585952c8ba4b103fb6b7aea801ba}{U8\+\_\+\+B\+A\+C\+K\+\_\+N}}(s,  start,  i,  n)
\item 
\#define \mbox{\hyperlink{utf8_8h_a910ba47de6d82fafc25b5e12f3a68588}{U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+L\+I\+M\+I\+T\+\_\+\+U\+N\+S\+A\+FE}}(s,  i)
\item 
\#define \mbox{\hyperlink{utf8_8h_a40fe523809a3a4e647e47513336b81d9}{U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+L\+I\+M\+IT}}(s,  start,  i,  length)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} \mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{U\+Char32}} U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{utf8_8h_a53a02504435f07fb27396ef7eb66430e}{utf8\+\_\+next\+Char\+Safe\+Body}} (const uint8\+\_\+t $\ast$s, int32\+\_\+t $\ast$pi, int32\+\_\+t length, \mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{U\+Char32}} c, \mbox{\hyperlink{umachine_8h_a349ef00011f20ccd1d3b424445681aa5}{U\+Bool}} strict)
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} int32\+\_\+t U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{utf8_8h_a37d89bc4f0251ec3ae8e30e0f3798ce3}{utf8\+\_\+append\+Char\+Safe\+Body}} (uint8\+\_\+t $\ast$s, int32\+\_\+t i, int32\+\_\+t length, \mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{U\+Char32}} c, \mbox{\hyperlink{umachine_8h_a349ef00011f20ccd1d3b424445681aa5}{U\+Bool}} $\ast$p\+Is\+Error)
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} \mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{U\+Char32}} U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{utf8_8h_af52a9420fcf4a5386492719a11af98cb}{utf8\+\_\+prev\+Char\+Safe\+Body}} (const uint8\+\_\+t $\ast$s, int32\+\_\+t start, int32\+\_\+t $\ast$pi, \mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{U\+Char32}} c, \mbox{\hyperlink{umachine_8h_a349ef00011f20ccd1d3b424445681aa5}{U\+Bool}} strict)
\item 
\mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} int32\+\_\+t U\+\_\+\+E\+X\+P\+O\+R\+T2 \mbox{\hyperlink{utf8_8h_a108d56aaaa6195ab42caeb63b732fea1}{utf8\+\_\+back1\+Safe\+Body}} (const uint8\+\_\+t $\ast$s, int32\+\_\+t start, int32\+\_\+t i)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
C A\+PI\+: 8-\/bit Unicode handling macros. 

This file defines macros to deal with 8-\/bit Unicode (U\+T\+F-\/8) code units (bytes) and strings.

For more information see \mbox{\hyperlink{utf_8h}{utf.\+h}} and the I\+CU User Guide Strings chapter (\href{https://unicode-org.github.io/icu/userguide/strings}{\texttt{ https\+://unicode-\/org.\+github.\+io/icu/userguide/strings}}).

{\itshape Usage\+:} I\+CU coding guidelines for if() statements should be followed when using these macros. Compound statements (curly braces \{\}) must be used for if-\/else-\/while... bodies and all macro statements should be terminated with semicolon. 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{utf8_8h_a8a013997e3d13c501ce73bc45e662881}\label{utf8_8h_a8a013997e3d13c501ce73bc45e662881}} 
\index{utf8.h@{utf8.h}!U8\_APPEND@{U8\_APPEND}}
\index{U8\_APPEND@{U8\_APPEND}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_APPEND}{U8\_APPEND}}
{\footnotesize\ttfamily \#define U8\+\_\+\+A\+P\+P\+E\+ND(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{capacity,  }\item[{}]{c,  }\item[{}]{is\+Error }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    uint32\_t \_\_uc=(c); \(\backslash\)}
\DoxyCodeLine{    if(\_\_uc<=0x7f) \{ \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})\_\_uc; \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\_\_uc<=0x7ff \&\& (i)+1<(capacity)) \{ \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})((\_\_uc>>6)|0xc0); \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})((\_\_uc\&0x3f)|0x80); \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((\_\_uc<=0xd7ff || (0xe000<=\_\_uc \&\& \_\_uc<=0xffff)) \&\& (i)+2<(capacity)) \{ \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})((\_\_uc>>12)|0xe0); \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})(((\_\_uc>>6)\&0x3f)|0x80); \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})((\_\_uc\&0x3f)|0x80); \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(0xffff<\_\_uc \&\& \_\_uc<=0x10ffff \&\& (i)+3<(capacity)) \{ \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})((\_\_uc>>18)|0xf0); \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})(((\_\_uc>>12)\&0x3f)|0x80); \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})(((\_\_uc>>6)\&0x3f)|0x80); \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})((\_\_uc\&0x3f)|0x80); \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \{ \(\backslash\)}
\DoxyCodeLine{        (isError)=\textcolor{keyword}{true}; \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Append a code point to a string, overwriting 1 to 4 bytes. The offset points to the current end of the string contents and is advanced (post-\/increment). \char`\"{}\+Safe\char`\"{} macro, checks for a valid code point. If a non-\/\+A\+S\+C\+II code point is written, checks for sufficient space in the string. If the code point is not valid or trail bytes do not fit, then is\+Error is set to true.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string buffer \\
\hline
{\em i} & int32\+\_\+t string offset, must be i$<$capacity \\
\hline
{\em capacity} & int32\+\_\+t size of the string buffer \\
\hline
{\em c} & U\+Char32 code point to append \\
\hline
{\em is\+Error} & output U\+Bool set to true if an error occurs, otherwise not modified \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a154f04764da5af41729c4df6bf9e09f3}{U8\+\_\+\+A\+P\+P\+E\+N\+D\+\_\+\+U\+N\+S\+A\+FE}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a154f04764da5af41729c4df6bf9e09f3}\label{utf8_8h_a154f04764da5af41729c4df6bf9e09f3}} 
\index{utf8.h@{utf8.h}!U8\_APPEND\_UNSAFE@{U8\_APPEND\_UNSAFE}}
\index{U8\_APPEND\_UNSAFE@{U8\_APPEND\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_APPEND\_UNSAFE}{U8\_APPEND\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+A\+P\+P\+E\+N\+D\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{c }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    uint32\_t \_\_uc=(c); \(\backslash\)}
\DoxyCodeLine{    if(\_\_uc<=0x7f) \{ \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})\_\_uc; \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \{ \(\backslash\)}
\DoxyCodeLine{        if(\_\_uc<=0x7ff) \{ \(\backslash\)}
\DoxyCodeLine{            (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})((\_\_uc>>6)|0xc0); \(\backslash\)}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \{ \(\backslash\)}
\DoxyCodeLine{            if(\_\_uc<=0xffff) \{ \(\backslash\)}
\DoxyCodeLine{                (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})((\_\_uc>>12)|0xe0); \(\backslash\)}
\DoxyCodeLine{            \} \textcolor{keywordflow}{else} \{ \(\backslash\)}
\DoxyCodeLine{                (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})((\_\_uc>>18)|0xf0); \(\backslash\)}
\DoxyCodeLine{                (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})(((\_\_uc>>12)\&0x3f)|0x80); \(\backslash\)}
\DoxyCodeLine{            \} \(\backslash\)}
\DoxyCodeLine{            (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})(((\_\_uc>>6)\&0x3f)|0x80); \(\backslash\)}
\DoxyCodeLine{        \} \(\backslash\)}
\DoxyCodeLine{        (s)[(i)++]=(\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})((\_\_uc\&0x3f)|0x80); \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Append a code point to a string, overwriting 1 to 4 bytes. The offset points to the current end of the string contents and is advanced (post-\/increment). \char`\"{}\+Unsafe\char`\"{} macro, assumes a valid code point and sufficient space in the string. Otherwise, the result is undefined.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string buffer \\
\hline
{\em i} & string offset \\
\hline
{\em c} & code point to append \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a8a013997e3d13c501ce73bc45e662881}{U8\+\_\+\+A\+P\+P\+E\+ND}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_adac4ee359e6233cb2990b1047fd5be3c}\label{utf8_8h_adac4ee359e6233cb2990b1047fd5be3c}} 
\index{utf8.h@{utf8.h}!U8\_BACK\_1@{U8\_BACK\_1}}
\index{U8\_BACK\_1@{U8\_BACK\_1}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_BACK\_1}{U8\_BACK\_1}}
{\footnotesize\ttfamily \#define U8\+\_\+\+B\+A\+C\+K\+\_\+1(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{start,  }\item[{}]{i }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    if(\mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}((s)[-\/-\/(i)])) \{ \(\backslash\)}
\DoxyCodeLine{        (i)=\mbox{\hyperlink{utf8_8h_a108d56aaaa6195ab42caeb63b732fea1}{utf8\_back1SafeBody}}(s, start, (i)); \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Move the string offset from one code point boundary to the previous one. (Pre-\/decrementing backward iteration.) The input offset may be the same as the string length. \char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em start} & int32\+\_\+t starting string offset (usually 0) \\
\hline
{\em i} & int32\+\_\+t string offset, must be start$<$i \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a3969beb6252f8605ab678990c8af2f48}{U8\+\_\+\+B\+A\+C\+K\+\_\+1\+\_\+\+U\+N\+S\+A\+FE}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a3969beb6252f8605ab678990c8af2f48}\label{utf8_8h_a3969beb6252f8605ab678990c8af2f48}} 
\index{utf8.h@{utf8.h}!U8\_BACK\_1\_UNSAFE@{U8\_BACK\_1\_UNSAFE}}
\index{U8\_BACK\_1\_UNSAFE@{U8\_BACK\_1\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_BACK\_1\_UNSAFE}{U8\_BACK\_1\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+B\+A\+C\+K\+\_\+1\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    while(\mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}((s)[-\/-\/(i)])) \{\} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Move the string offset from one code point boundary to the previous one. (Pre-\/decrementing backward iteration.) The input offset may be the same as the string length. \char`\"{}\+Unsafe\char`\"{} macro, assumes well-\/formed U\+T\+F-\/8.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & string offset \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_adac4ee359e6233cb2990b1047fd5be3c}{U8\+\_\+\+B\+A\+C\+K\+\_\+1}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_ab0ce585952c8ba4b103fb6b7aea801ba}\label{utf8_8h_ab0ce585952c8ba4b103fb6b7aea801ba}} 
\index{utf8.h@{utf8.h}!U8\_BACK\_N@{U8\_BACK\_N}}
\index{U8\_BACK\_N@{U8\_BACK\_N}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_BACK\_N}{U8\_BACK\_N}}
{\footnotesize\ttfamily \#define U8\+\_\+\+B\+A\+C\+K\+\_\+N(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{start,  }\item[{}]{i,  }\item[{}]{n }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    int32\_t \_\_N=(n); \(\backslash\)}
\DoxyCodeLine{    while(\_\_N>0 \&\& (i)>(start)) \{ \(\backslash\)}
\DoxyCodeLine{        U8\_BACK\_1(s, start, i); \(\backslash\)}
\DoxyCodeLine{        -\/-\/\_\_N; \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Move the string offset from one code point boundary to the n-\/th one before it, i.\+e., move backward by n code points. (Pre-\/decrementing backward iteration.) The input offset may be the same as the string length. \char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em start} & int32\+\_\+t index of the start of the string \\
\hline
{\em i} & int32\+\_\+t string offset, must be start$<$i \\
\hline
{\em n} & number of code points to skip \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_aa36f62ea4ac87362e376e4cbea10098d}{U8\+\_\+\+B\+A\+C\+K\+\_\+\+N\+\_\+\+U\+N\+S\+A\+FE}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_aa36f62ea4ac87362e376e4cbea10098d}\label{utf8_8h_aa36f62ea4ac87362e376e4cbea10098d}} 
\index{utf8.h@{utf8.h}!U8\_BACK\_N\_UNSAFE@{U8\_BACK\_N\_UNSAFE}}
\index{U8\_BACK\_N\_UNSAFE@{U8\_BACK\_N\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_BACK\_N\_UNSAFE}{U8\_BACK\_N\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+B\+A\+C\+K\+\_\+\+N\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{n }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    int32\_t \_\_N=(n); \(\backslash\)}
\DoxyCodeLine{    while(\_\_N>0) \{ \(\backslash\)}
\DoxyCodeLine{        U8\_BACK\_1\_UNSAFE(s, i); \(\backslash\)}
\DoxyCodeLine{        -\/-\/\_\_N; \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Move the string offset from one code point boundary to the n-\/th one before it, i.\+e., move backward by n code points. (Pre-\/decrementing backward iteration.) The input offset may be the same as the string length. \char`\"{}\+Unsafe\char`\"{} macro, assumes well-\/formed U\+T\+F-\/8.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & string offset \\
\hline
{\em n} & number of code points to skip \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_ab0ce585952c8ba4b103fb6b7aea801ba}{U8\+\_\+\+B\+A\+C\+K\+\_\+N}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_ae534bfef078b4f5d09e8da543a779db7}\label{utf8_8h_ae534bfef078b4f5d09e8da543a779db7}} 
\index{utf8.h@{utf8.h}!U8\_COUNT\_TRAIL\_BYTES@{U8\_COUNT\_TRAIL\_BYTES}}
\index{U8\_COUNT\_TRAIL\_BYTES@{U8\_COUNT\_TRAIL\_BYTES}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_COUNT\_TRAIL\_BYTES}{U8\_COUNT\_TRAIL\_BYTES}}
{\footnotesize\ttfamily \#define U8\+\_\+\+C\+O\+U\+N\+T\+\_\+\+T\+R\+A\+I\+L\+\_\+\+B\+Y\+T\+ES(\begin{DoxyParamCaption}\item[{}]{lead\+Byte }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    (\mbox{\hyperlink{utf8_8h_adb9837ea38dd811524a5b761ddc2a2ca}{U8\_IS\_LEAD}}(leadByte) ? \(\backslash\)}
\DoxyCodeLine{        ((\mbox{\hyperlink{group__gtc__type__precision_ga93adf6dd9803408f3e3aaf9dedda352b}{uint8\_t}})(leadByte)>=0xe0)+((uint8\_t)(leadByte)>=0xf0)+1 : 0)}

\end{DoxyCode}
Counts the trail bytes for a U\+T\+F-\/8 lead byte. Returns 0 for 0..0xc1 as well as for 0xf5..0xff. lead\+Byte might be evaluated multiple times.

This is internal since it is not meant to be called directly by external clients; however it is called by public macros in this file and thus must remain stable.


\begin{DoxyParams}{Parameters}
{\em lead\+Byte} & The first byte of a U\+T\+F-\/8 sequence. Must be 0..0xff. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{utf8_8h_a32281421a1d07ef0de83e7f44c5d7ba2}\label{utf8_8h_a32281421a1d07ef0de83e7f44c5d7ba2}} 
\index{utf8.h@{utf8.h}!U8\_COUNT\_TRAIL\_BYTES\_UNSAFE@{U8\_COUNT\_TRAIL\_BYTES\_UNSAFE}}
\index{U8\_COUNT\_TRAIL\_BYTES\_UNSAFE@{U8\_COUNT\_TRAIL\_BYTES\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_COUNT\_TRAIL\_BYTES\_UNSAFE}{U8\_COUNT\_TRAIL\_BYTES\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+C\+O\+U\+N\+T\+\_\+\+T\+R\+A\+I\+L\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{lead\+Byte }\end{DoxyParamCaption})~(((uint8\+\_\+t)(lead\+Byte)$>$=0xc2)+((uint8\+\_\+t)(lead\+Byte)$>$=0xe0)+((uint8\+\_\+t)(lead\+Byte)$>$=0xf0))}

Counts the trail bytes for a U\+T\+F-\/8 lead byte of a valid U\+T\+F-\/8 sequence. Returns 0 for 0..0xc1. Undefined for 0xf5..0xff. lead\+Byte might be evaluated multiple times.

This is internal since it is not meant to be called directly by external clients; however it is called by public macros in this file and thus must remain stable.


\begin{DoxyParams}{Parameters}
{\em lead\+Byte} & The first byte of a U\+T\+F-\/8 sequence. Must be 0..0xff. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{utf8_8h_a6d4c94e845b059fddba0c51e9bad87fd}\label{utf8_8h_a6d4c94e845b059fddba0c51e9bad87fd}} 
\index{utf8.h@{utf8.h}!U8\_FWD\_1@{U8\_FWD\_1}}
\index{U8\_FWD\_1@{U8\_FWD\_1}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_FWD\_1}{U8\_FWD\_1}}
{\footnotesize\ttfamily \#define U8\+\_\+\+F\+W\+D\+\_\+1(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{length }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    uint8\_t \_\_b=(s)[(i)++]; \(\backslash\)}
\DoxyCodeLine{    if(\mbox{\hyperlink{utf8_8h_adb9837ea38dd811524a5b761ddc2a2ca}{U8\_IS\_LEAD}}(\_\_b) \&\& (i)!=(length)) \{ \(\backslash\)}
\DoxyCodeLine{        uint8\_t \_\_t1=(s)[i]; \(\backslash\)}
\DoxyCodeLine{        if((0xe0<=\_\_b \&\& \_\_b<0xf0)) \{ \(\backslash\)}
\DoxyCodeLine{            if(\mbox{\hyperlink{utf8_8h_a3a06eab6584d228ea835b424e0591aec}{U8\_IS\_VALID\_LEAD3\_AND\_T1}}(\_\_b, \_\_t1) \&\& \(\backslash\)}
\DoxyCodeLine{                    ++(i)!=(length) \&\& \mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}((s)[i])) \{ \(\backslash\)}
\DoxyCodeLine{                ++(i); \(\backslash\)}
\DoxyCodeLine{            \} \(\backslash\)}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\_\_b<0xe0) \{ \(\backslash\)}
\DoxyCodeLine{            if(\mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}(\_\_t1)) \{ \(\backslash\)}
\DoxyCodeLine{                ++(i); \(\backslash\)}
\DoxyCodeLine{            \} \(\backslash\)}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \textcolor{comment}{/* c>=0xf0 */} \{ \(\backslash\)}
\DoxyCodeLine{            if(\mbox{\hyperlink{utf8_8h_a5525576b42e8b7b4240153d9403c47a2}{U8\_IS\_VALID\_LEAD4\_AND\_T1}}(\_\_b, \_\_t1) \&\& \(\backslash\)}
\DoxyCodeLine{                    ++(i)!=(length) \&\& \mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}((s)[i]) \&\& \(\backslash\)}
\DoxyCodeLine{                    ++(i)!=(length) \&\& \mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}((s)[i])) \{ \(\backslash\)}
\DoxyCodeLine{                ++(i); \(\backslash\)}
\DoxyCodeLine{            \} \(\backslash\)}
\DoxyCodeLine{        \} \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Advance the string offset from one code point boundary to the next. (Post-\/incrementing iteration.) \char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries.

The length can be negative for a N\+U\+L-\/terminated string.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & int32\+\_\+t string offset, must be i$<$length \\
\hline
{\em length} & int32\+\_\+t string length \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a64a8113aea2125f806cbf5d77294b3cd}{U8\+\_\+\+F\+W\+D\+\_\+1\+\_\+\+U\+N\+S\+A\+FE}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a64a8113aea2125f806cbf5d77294b3cd}\label{utf8_8h_a64a8113aea2125f806cbf5d77294b3cd}} 
\index{utf8.h@{utf8.h}!U8\_FWD\_1\_UNSAFE@{U8\_FWD\_1\_UNSAFE}}
\index{U8\_FWD\_1\_UNSAFE@{U8\_FWD\_1\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_FWD\_1\_UNSAFE}{U8\_FWD\_1\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+F\+W\+D\+\_\+1\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    (i)+=1+\mbox{\hyperlink{utf8_8h_a32281421a1d07ef0de83e7f44c5d7ba2}{U8\_COUNT\_TRAIL\_BYTES\_UNSAFE}}((s)[i]); \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Advance the string offset from one code point boundary to the next. (Post-\/incrementing iteration.) \char`\"{}\+Unsafe\char`\"{} macro, assumes well-\/formed U\+T\+F-\/8.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & string offset \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a6d4c94e845b059fddba0c51e9bad87fd}{U8\+\_\+\+F\+W\+D\+\_\+1}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a9a311dc48b8aa1050345b886adabf213}\label{utf8_8h_a9a311dc48b8aa1050345b886adabf213}} 
\index{utf8.h@{utf8.h}!U8\_FWD\_N@{U8\_FWD\_N}}
\index{U8\_FWD\_N@{U8\_FWD\_N}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_FWD\_N}{U8\_FWD\_N}}
{\footnotesize\ttfamily \#define U8\+\_\+\+F\+W\+D\+\_\+N(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{length,  }\item[{}]{n }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    int32\_t \_\_N=(n); \(\backslash\)}
\DoxyCodeLine{    while(\_\_N>0 \&\& ((i)<(length) || ((length)<0 \&\& (s)[i]!=0))) \{ \(\backslash\)}
\DoxyCodeLine{        U8\_FWD\_1(s, i, length); \(\backslash\)}
\DoxyCodeLine{        -\/-\/\_\_N; \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Advance the string offset from one code point boundary to the n-\/th next one, i.\+e., move forward by n code points. (Post-\/incrementing iteration.) \char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries.

The length can be negative for a N\+U\+L-\/terminated string.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & int32\+\_\+t string offset, must be i$<$length \\
\hline
{\em length} & int32\+\_\+t string length \\
\hline
{\em n} & number of code points to skip \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a8e8b4218834110431798cc84a0a664ae}{U8\+\_\+\+F\+W\+D\+\_\+\+N\+\_\+\+U\+N\+S\+A\+FE}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a8e8b4218834110431798cc84a0a664ae}\label{utf8_8h_a8e8b4218834110431798cc84a0a664ae}} 
\index{utf8.h@{utf8.h}!U8\_FWD\_N\_UNSAFE@{U8\_FWD\_N\_UNSAFE}}
\index{U8\_FWD\_N\_UNSAFE@{U8\_FWD\_N\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_FWD\_N\_UNSAFE}{U8\_FWD\_N\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+F\+W\+D\+\_\+\+N\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{n }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    int32\_t \_\_N=(n); \(\backslash\)}
\DoxyCodeLine{    while(\_\_N>0) \{ \(\backslash\)}
\DoxyCodeLine{        U8\_FWD\_1\_UNSAFE(s, i); \(\backslash\)}
\DoxyCodeLine{        -\/-\/\_\_N; \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Advance the string offset from one code point boundary to the n-\/th next one, i.\+e., move forward by n code points. (Post-\/incrementing iteration.) \char`\"{}\+Unsafe\char`\"{} macro, assumes well-\/formed U\+T\+F-\/8.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & string offset \\
\hline
{\em n} & number of code points to skip \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a9a311dc48b8aa1050345b886adabf213}{U8\+\_\+\+F\+W\+D\+\_\+N}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a10a57a084d75604c4a81fb5eec46ae6a}\label{utf8_8h_a10a57a084d75604c4a81fb5eec46ae6a}} 
\index{utf8.h@{utf8.h}!U8\_GET@{U8\_GET}}
\index{U8\_GET@{U8\_GET}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_GET}{U8\_GET}}
{\footnotesize\ttfamily \#define U8\+\_\+\+G\+ET(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{start,  }\item[{}]{i,  }\item[{}]{length,  }\item[{}]{c }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    int32\_t \_u8\_get\_index=(i); \(\backslash\)}
\DoxyCodeLine{    U8\_SET\_CP\_START(s, start, \_u8\_get\_index); \(\backslash\)}
\DoxyCodeLine{    U8\_NEXT(s, \_u8\_get\_index, length, c); \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Get a code point from a string at a random-\/access offset, without changing the offset. The offset may point to either the lead byte or one of the trail bytes for a code point, in which case the macro will read all of the bytes for the code point.

The length can be negative for a N\+U\+L-\/terminated string.

If the offset points to an illegal U\+T\+F-\/8 byte sequence, then c is set to a negative value. Iteration through a string is more efficient with U8\+\_\+\+N\+E\+X\+T\+\_\+\+U\+N\+S\+A\+FE or U8\+\_\+\+N\+E\+XT.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em start} & int32\+\_\+t starting string offset \\
\hline
{\em i} & int32\+\_\+t string offset, must be start$<$=i$<$length \\
\hline
{\em length} & int32\+\_\+t string length \\
\hline
{\em c} & output U\+Char32 variable, set to $<$0 in case of an error \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a125e5e7a4ef2f3f57b078f706b2b67f8}{U8\+\_\+\+G\+E\+T\+\_\+\+U\+N\+S\+A\+FE}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_ad13323ca441892bdb6b49b6954ab9ffb}\label{utf8_8h_ad13323ca441892bdb6b49b6954ab9ffb}} 
\index{utf8.h@{utf8.h}!U8\_GET\_OR\_FFFD@{U8\_GET\_OR\_FFFD}}
\index{U8\_GET\_OR\_FFFD@{U8\_GET\_OR\_FFFD}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_GET\_OR\_FFFD}{U8\_GET\_OR\_FFFD}}
{\footnotesize\ttfamily \#define U8\+\_\+\+G\+E\+T\+\_\+\+O\+R\+\_\+\+F\+F\+FD(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{start,  }\item[{}]{i,  }\item[{}]{length,  }\item[{}]{c }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    int32\_t \_u8\_get\_index=(i); \(\backslash\)}
\DoxyCodeLine{    U8\_SET\_CP\_START(s, start, \_u8\_get\_index); \(\backslash\)}
\DoxyCodeLine{    U8\_NEXT\_OR\_FFFD(s, \_u8\_get\_index, length, c); \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Get a code point from a string at a random-\/access offset, without changing the offset. The offset may point to either the lead byte or one of the trail bytes for a code point, in which case the macro will read all of the bytes for the code point.

The length can be negative for a N\+U\+L-\/terminated string.

If the offset points to an illegal U\+T\+F-\/8 byte sequence, then c is set to U+\+F\+F\+FD. Iteration through a string is more efficient with U8\+\_\+\+N\+E\+X\+T\+\_\+\+U\+N\+S\+A\+FE or U8\+\_\+\+N\+E\+X\+T\+\_\+\+O\+R\+\_\+\+F\+F\+FD.

This macro does not distinguish between a real U+\+F\+F\+FD in the text and U+\+F\+F\+FD returned for an ill-\/formed sequence. Use \mbox{\hyperlink{utf8_8h_a10a57a084d75604c4a81fb5eec46ae6a}{U8\+\_\+\+G\+E\+T()}} if that distinction is important.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em start} & int32\+\_\+t starting string offset \\
\hline
{\em i} & int32\+\_\+t string offset, must be start$<$=i$<$length \\
\hline
{\em length} & int32\+\_\+t string length \\
\hline
{\em c} & output U\+Char32 variable, set to U+\+F\+F\+FD in case of an error \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a10a57a084d75604c4a81fb5eec46ae6a}{U8\+\_\+\+G\+ET}} @stable I\+CU 51 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a125e5e7a4ef2f3f57b078f706b2b67f8}\label{utf8_8h_a125e5e7a4ef2f3f57b078f706b2b67f8}} 
\index{utf8.h@{utf8.h}!U8\_GET\_UNSAFE@{U8\_GET\_UNSAFE}}
\index{U8\_GET\_UNSAFE@{U8\_GET\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_GET\_UNSAFE}{U8\_GET\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+G\+E\+T\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{c }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    int32\_t \_u8\_get\_unsafe\_index=(\mbox{\hyperlink{group__gtc__type__precision_gab870c0eb6f525b0c8c4716762e0fc3a8}{int32\_t}})(i); \(\backslash\)}
\DoxyCodeLine{    U8\_SET\_CP\_START\_UNSAFE(s, \_u8\_get\_unsafe\_index); \(\backslash\)}
\DoxyCodeLine{    U8\_NEXT\_UNSAFE(s, \_u8\_get\_unsafe\_index, c); \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Get a code point from a string at a random-\/access offset, without changing the offset. The offset may point to either the lead byte or one of the trail bytes for a code point, in which case the macro will read all of the bytes for the code point. The result is undefined if the offset points to an illegal U\+T\+F-\/8 byte sequence. Iteration through a string is more efficient with U8\+\_\+\+N\+E\+X\+T\+\_\+\+U\+N\+S\+A\+FE or U8\+\_\+\+N\+E\+XT.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & string offset \\
\hline
{\em c} & output U\+Char32 variable \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a10a57a084d75604c4a81fb5eec46ae6a}{U8\+\_\+\+G\+ET}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a27c3748113bc63347a7fa3a4b2c71029}\label{utf8_8h_a27c3748113bc63347a7fa3a4b2c71029}} 
\index{utf8.h@{utf8.h}!U8\_INTERNAL\_NEXT\_OR\_SUB@{U8\_INTERNAL\_NEXT\_OR\_SUB}}
\index{U8\_INTERNAL\_NEXT\_OR\_SUB@{U8\_INTERNAL\_NEXT\_OR\_SUB}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_INTERNAL\_NEXT\_OR\_SUB}{U8\_INTERNAL\_NEXT\_OR\_SUB}}
{\footnotesize\ttfamily \#define U8\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+N\+E\+X\+T\+\_\+\+O\+R\+\_\+\+S\+UB(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{length,  }\item[{}]{c,  }\item[{}]{sub }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    (c)=(uint8\_t)(s)[(i)++]; \(\backslash\)}
\DoxyCodeLine{    if(!\mbox{\hyperlink{utf8_8h_a8f3a9427d880458a9fa6b169a3cc1b3c}{U8\_IS\_SINGLE}}(c)) \{ \(\backslash\)}
\DoxyCodeLine{        uint8\_t \_\_t = 0; \(\backslash\)}
\DoxyCodeLine{        if((i)!=(length) \&\& \(\backslash\)}
\DoxyCodeLine{            \textcolor{comment}{/* fetch/validate/assemble all but last trail byte */} \(\backslash\)}
\DoxyCodeLine{            ((c)>=0xe0 ? \(\backslash\)}
\DoxyCodeLine{                ((c)<0xf0 ?  \textcolor{comment}{/* U+0800..U+FFFF except surrogates */} \(\backslash\)}
\DoxyCodeLine{                    \mbox{\hyperlink{utf8_8h_aabfe8ee746b8025ec80ed1977e8ae3c6}{U8\_LEAD3\_T1\_BITS}}[(c)\&=0xf]\&(1<<((\_\_t=(s)[i])>>5)) \&\& \(\backslash\)}
\DoxyCodeLine{                    (\_\_t\&=0x3f, 1) \(\backslash\)}
\DoxyCodeLine{                :  \textcolor{comment}{/* U+10000..U+10FFFF */} \(\backslash\)}
\DoxyCodeLine{                    ((c)-\/=0xf0)<=4 \&\& \(\backslash\)}
\DoxyCodeLine{                    \mbox{\hyperlink{utf8_8h_ab7b00ab82ca3e89d24c4088b2b4e9416}{U8\_LEAD4\_T1\_BITS}}[(\_\_t=(s)[i])>>4]\&(1<<(c)) \&\& \(\backslash\)}
\DoxyCodeLine{                    ((c)=((c)<<6)|(\_\_t\&0x3f), ++(i)!=(length)) \&\& \(\backslash\)}
\DoxyCodeLine{                    (\_\_t=(s)[i]-\/0x80)<=0x3f) \&\& \(\backslash\)}
\DoxyCodeLine{                \textcolor{comment}{/* valid second-\/to-\/last trail byte */} \(\backslash\)}
\DoxyCodeLine{                ((c)=((c)<<6)|\_\_t, ++(i)!=(length)) \(\backslash\)}
\DoxyCodeLine{            :  \textcolor{comment}{/* U+0080..U+07FF */} \(\backslash\)}
\DoxyCodeLine{                (c)>=0xc2 \&\& ((c)\&=0x1f, 1)) \&\& \(\backslash\)}
\DoxyCodeLine{            \textcolor{comment}{/* last trail byte */} \(\backslash\)}
\DoxyCodeLine{            (\_\_t=(s)[i]-\/0x80)<=0x3f \&\& \(\backslash\)}
\DoxyCodeLine{            ((c)=((c)<<6)|\_\_t, ++(i), 1)) \{ \(\backslash\)}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \{ \(\backslash\)}
\DoxyCodeLine{            (c)=(sub);  \textcolor{comment}{/* ill-\/formed*/} \(\backslash\)}
\DoxyCodeLine{        \} \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
\mbox{\Hypertarget{utf8_8h_adb9837ea38dd811524a5b761ddc2a2ca}\label{utf8_8h_adb9837ea38dd811524a5b761ddc2a2ca}} 
\index{utf8.h@{utf8.h}!U8\_IS\_LEAD@{U8\_IS\_LEAD}}
\index{U8\_IS\_LEAD@{U8\_IS\_LEAD}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_IS\_LEAD}{U8\_IS\_LEAD}}
{\footnotesize\ttfamily \#define U8\+\_\+\+I\+S\+\_\+\+L\+E\+AD(\begin{DoxyParamCaption}\item[{}]{c }\end{DoxyParamCaption})~((uint8\+\_\+t)((c)-\/0xc2)$<$=0x32)}

Is this code unit (byte) a U\+T\+F-\/8 lead byte? (0x\+C2..0x\+F4) 
\begin{DoxyParams}{Parameters}
{\em c} & 8-\/bit code unit (byte) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true or false @stable I\+CU 2.\+4 
\end{DoxyReturn}
\mbox{\Hypertarget{utf8_8h_a8f3a9427d880458a9fa6b169a3cc1b3c}\label{utf8_8h_a8f3a9427d880458a9fa6b169a3cc1b3c}} 
\index{utf8.h@{utf8.h}!U8\_IS\_SINGLE@{U8\_IS\_SINGLE}}
\index{U8\_IS\_SINGLE@{U8\_IS\_SINGLE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_IS\_SINGLE}{U8\_IS\_SINGLE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+I\+S\+\_\+\+S\+I\+N\+G\+LE(\begin{DoxyParamCaption}\item[{}]{c }\end{DoxyParamCaption})~(((c)\&0x80)==0)}

Does this code unit (byte) encode a code point by itself (U\+S-\/\+A\+S\+C\+II 0..0x7f)? 
\begin{DoxyParams}{Parameters}
{\em c} & 8-\/bit code unit (byte) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true or false @stable I\+CU 2.\+4 
\end{DoxyReturn}
\mbox{\Hypertarget{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}\label{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}} 
\index{utf8.h@{utf8.h}!U8\_IS\_TRAIL@{U8\_IS\_TRAIL}}
\index{U8\_IS\_TRAIL@{U8\_IS\_TRAIL}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_IS\_TRAIL}{U8\_IS\_TRAIL}}
{\footnotesize\ttfamily \#define U8\+\_\+\+I\+S\+\_\+\+T\+R\+A\+IL(\begin{DoxyParamCaption}\item[{}]{c }\end{DoxyParamCaption})~((int8\+\_\+t)(c)$<$-\/0x40)}

Is this code unit (byte) a U\+T\+F-\/8 trail byte? (0x80..0x\+BF) 
\begin{DoxyParams}{Parameters}
{\em c} & 8-\/bit code unit (byte) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true or false @stable I\+CU 2.\+4 
\end{DoxyReturn}
\mbox{\Hypertarget{utf8_8h_a3a06eab6584d228ea835b424e0591aec}\label{utf8_8h_a3a06eab6584d228ea835b424e0591aec}} 
\index{utf8.h@{utf8.h}!U8\_IS\_VALID\_LEAD3\_AND\_T1@{U8\_IS\_VALID\_LEAD3\_AND\_T1}}
\index{U8\_IS\_VALID\_LEAD3\_AND\_T1@{U8\_IS\_VALID\_LEAD3\_AND\_T1}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_IS\_VALID\_LEAD3\_AND\_T1}{U8\_IS\_VALID\_LEAD3\_AND\_T1}}
{\footnotesize\ttfamily \#define U8\+\_\+\+I\+S\+\_\+\+V\+A\+L\+I\+D\+\_\+\+L\+E\+A\+D3\+\_\+\+A\+N\+D\+\_\+\+T1(\begin{DoxyParamCaption}\item[{}]{lead,  }\item[{}]{t1 }\end{DoxyParamCaption})~(\mbox{\hyperlink{utf8_8h_aabfe8ee746b8025ec80ed1977e8ae3c6}{U8\+\_\+\+L\+E\+A\+D3\+\_\+\+T1\+\_\+\+B\+I\+TS}}\mbox{[}(lead)\&0xf\mbox{]}\&(1$<$$<$((uint8\+\_\+t)(t1)$>$$>$5)))}

Internal 3-\/byte U\+T\+F-\/8 validity check. Non-\/zero if lead byte E0..EF and first trail byte 00..FF start a valid sequence. \mbox{\Hypertarget{utf8_8h_a5525576b42e8b7b4240153d9403c47a2}\label{utf8_8h_a5525576b42e8b7b4240153d9403c47a2}} 
\index{utf8.h@{utf8.h}!U8\_IS\_VALID\_LEAD4\_AND\_T1@{U8\_IS\_VALID\_LEAD4\_AND\_T1}}
\index{U8\_IS\_VALID\_LEAD4\_AND\_T1@{U8\_IS\_VALID\_LEAD4\_AND\_T1}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_IS\_VALID\_LEAD4\_AND\_T1}{U8\_IS\_VALID\_LEAD4\_AND\_T1}}
{\footnotesize\ttfamily \#define U8\+\_\+\+I\+S\+\_\+\+V\+A\+L\+I\+D\+\_\+\+L\+E\+A\+D4\+\_\+\+A\+N\+D\+\_\+\+T1(\begin{DoxyParamCaption}\item[{}]{lead,  }\item[{}]{t1 }\end{DoxyParamCaption})~(\mbox{\hyperlink{utf8_8h_ab7b00ab82ca3e89d24c4088b2b4e9416}{U8\+\_\+\+L\+E\+A\+D4\+\_\+\+T1\+\_\+\+B\+I\+TS}}\mbox{[}(uint8\+\_\+t)(t1)$>$$>$4\mbox{]}\&(1$<$$<$((lead)\&7)))}

Internal 4-\/byte U\+T\+F-\/8 validity check. Non-\/zero if lead byte F0..F4 and first trail byte 00..FF start a valid sequence. \mbox{\Hypertarget{utf8_8h_aabfe8ee746b8025ec80ed1977e8ae3c6}\label{utf8_8h_aabfe8ee746b8025ec80ed1977e8ae3c6}} 
\index{utf8.h@{utf8.h}!U8\_LEAD3\_T1\_BITS@{U8\_LEAD3\_T1\_BITS}}
\index{U8\_LEAD3\_T1\_BITS@{U8\_LEAD3\_T1\_BITS}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_LEAD3\_T1\_BITS}{U8\_LEAD3\_T1\_BITS}}
{\footnotesize\ttfamily \#define U8\+\_\+\+L\+E\+A\+D3\+\_\+\+T1\+\_\+\+B\+I\+TS~\char`\"{}\textbackslash{}x20\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x30\textbackslash{}x10\textbackslash{}x30\textbackslash{}x30\char`\"{}}

Internal bit vector for 3-\/byte U\+T\+F-\/8 validity check, for use in U8\+\_\+\+I\+S\+\_\+\+V\+A\+L\+I\+D\+\_\+\+L\+E\+A\+D3\+\_\+\+A\+N\+D\+\_\+\+T1. Each bit indicates whether one lead byte + first trail byte pair starts a valid sequence. Lead byte E0..EF bits 3..0 are used as byte index, first trail byte bits 7..5 are used as bit index into that byte. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a3a06eab6584d228ea835b424e0591aec}{U8\+\_\+\+I\+S\+\_\+\+V\+A\+L\+I\+D\+\_\+\+L\+E\+A\+D3\+\_\+\+A\+N\+D\+\_\+\+T1}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_ab7b00ab82ca3e89d24c4088b2b4e9416}\label{utf8_8h_ab7b00ab82ca3e89d24c4088b2b4e9416}} 
\index{utf8.h@{utf8.h}!U8\_LEAD4\_T1\_BITS@{U8\_LEAD4\_T1\_BITS}}
\index{U8\_LEAD4\_T1\_BITS@{U8\_LEAD4\_T1\_BITS}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_LEAD4\_T1\_BITS}{U8\_LEAD4\_T1\_BITS}}
{\footnotesize\ttfamily \#define U8\+\_\+\+L\+E\+A\+D4\+\_\+\+T1\+\_\+\+B\+I\+TS~\char`\"{}\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x1\+E\textbackslash{}x0\+F\textbackslash{}x0\+F\textbackslash{}x0\+F\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\textbackslash{}x00\char`\"{}}

Internal bit vector for 4-\/byte U\+T\+F-\/8 validity check, for use in U8\+\_\+\+I\+S\+\_\+\+V\+A\+L\+I\+D\+\_\+\+L\+E\+A\+D4\+\_\+\+A\+N\+D\+\_\+\+T1. Each bit indicates whether one lead byte + first trail byte pair starts a valid sequence. First trail byte bits 7..4 are used as byte index, lead byte F0..F4 bits 2..0 are used as bit index into that byte. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a5525576b42e8b7b4240153d9403c47a2}{U8\+\_\+\+I\+S\+\_\+\+V\+A\+L\+I\+D\+\_\+\+L\+E\+A\+D4\+\_\+\+A\+N\+D\+\_\+\+T1}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_af1730b8bbb3053465ee58702821846f1}\label{utf8_8h_af1730b8bbb3053465ee58702821846f1}} 
\index{utf8.h@{utf8.h}!U8\_LENGTH@{U8\_LENGTH}}
\index{U8\_LENGTH@{U8\_LENGTH}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_LENGTH}{U8\_LENGTH}}
{\footnotesize\ttfamily \#define U8\+\_\+\+L\+E\+N\+G\+TH(\begin{DoxyParamCaption}\item[{}]{c }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    ((\mbox{\hyperlink{group__gtc__type__precision_ga822ca53a9ad412504532838906276a99}{uint32\_t}})(c)<=0x7f ? 1 : \(\backslash\)}
\DoxyCodeLine{        ((\mbox{\hyperlink{group__gtc__type__precision_ga822ca53a9ad412504532838906276a99}{uint32\_t}})(c)<=0x7ff ? 2 : \(\backslash\)}
\DoxyCodeLine{            ((\mbox{\hyperlink{group__gtc__type__precision_ga822ca53a9ad412504532838906276a99}{uint32\_t}})(c)<=0xd7ff ? 3 : \(\backslash\)}
\DoxyCodeLine{                ((\mbox{\hyperlink{group__gtc__type__precision_ga822ca53a9ad412504532838906276a99}{uint32\_t}})(c)<=0xdfff || (\mbox{\hyperlink{group__gtc__type__precision_ga822ca53a9ad412504532838906276a99}{uint32\_t}})(c)>0x10ffff ? 0 : \(\backslash\)}
\DoxyCodeLine{                    ((\mbox{\hyperlink{group__gtc__type__precision_ga822ca53a9ad412504532838906276a99}{uint32\_t}})(c)<=0xffff ? 3 : 4)\(\backslash\)}
\DoxyCodeLine{                ) \(\backslash\)}
\DoxyCodeLine{            ) \(\backslash\)}
\DoxyCodeLine{        ) \(\backslash\)}
\DoxyCodeLine{    )}

\end{DoxyCode}
How many code units (bytes) are used for the U\+T\+F-\/8 encoding of this Unicode code point? 
\begin{DoxyParams}{Parameters}
{\em c} & 32-\/bit code point \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1..4, or 0 if c is a surrogate or not a Unicode code point @stable I\+CU 2.\+4 
\end{DoxyReturn}
\mbox{\Hypertarget{utf8_8h_ae8ed1045986b8bf27814e9bc78388961}\label{utf8_8h_ae8ed1045986b8bf27814e9bc78388961}} 
\index{utf8.h@{utf8.h}!U8\_MASK\_LEAD\_BYTE@{U8\_MASK\_LEAD\_BYTE}}
\index{U8\_MASK\_LEAD\_BYTE@{U8\_MASK\_LEAD\_BYTE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_MASK\_LEAD\_BYTE}{U8\_MASK\_LEAD\_BYTE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+M\+A\+S\+K\+\_\+\+L\+E\+A\+D\+\_\+\+B\+Y\+TE(\begin{DoxyParamCaption}\item[{}]{lead\+Byte,  }\item[{}]{count\+Trail\+Bytes }\end{DoxyParamCaption})~((lead\+Byte)\&=(1$<$$<$(6-\/(count\+Trail\+Bytes)))-\/1)}

Mask a U\+T\+F-\/8 lead byte, leave only the lower bits that form part of the code point value.

This is internal since it is not meant to be called directly by external clients; however it is called by public macros in this file and thus must remain stable. \mbox{\Hypertarget{utf8_8h_aa2298b48749d9f45772c8f5a6885464a}\label{utf8_8h_aa2298b48749d9f45772c8f5a6885464a}} 
\index{utf8.h@{utf8.h}!U8\_MAX\_LENGTH@{U8\_MAX\_LENGTH}}
\index{U8\_MAX\_LENGTH@{U8\_MAX\_LENGTH}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_MAX\_LENGTH}{U8\_MAX\_LENGTH}}
{\footnotesize\ttfamily \#define U8\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH~4}

The maximum number of U\+T\+F-\/8 code units (bytes) per Unicode code point (U+0000..U+10ffff). \begin{DoxyReturn}{Returns}
4 @stable I\+CU 2.\+4 
\end{DoxyReturn}
\mbox{\Hypertarget{utf8_8h_a57f3e5429ae4edb27a42367c627aa482}\label{utf8_8h_a57f3e5429ae4edb27a42367c627aa482}} 
\index{utf8.h@{utf8.h}!U8\_NEXT@{U8\_NEXT}}
\index{U8\_NEXT@{U8\_NEXT}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_NEXT}{U8\_NEXT}}
{\footnotesize\ttfamily \#define U8\+\_\+\+N\+E\+XT(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{length,  }\item[{}]{c }\end{DoxyParamCaption})~U8\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+N\+E\+X\+T\+\_\+\+O\+R\+\_\+\+S\+UB(s, i, length, c, \mbox{\hyperlink{umachine_8h_a807436737b76a72b76ddf0b900304b4a}{U\+\_\+\+S\+E\+N\+T\+I\+N\+EL}})}

Get a code point from a string at a code point boundary offset, and advance the offset to the next code point boundary. (Post-\/incrementing forward iteration.) \char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries.

The length can be negative for a N\+U\+L-\/terminated string.

The offset may point to the lead byte of a multi-\/byte sequence, in which case the macro will read the whole sequence. If the offset points to a trail byte or an illegal U\+T\+F-\/8 sequence, then c is set to a negative value.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & int32\+\_\+t string offset, must be i$<$length \\
\hline
{\em length} & int32\+\_\+t string length \\
\hline
{\em c} & output U\+Char32 variable, set to $<$0 in case of an error \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a28ecdb4233301285fc4ce7f9ea1ed644}{U8\+\_\+\+N\+E\+X\+T\+\_\+\+U\+N\+S\+A\+FE}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a7dda2b78867c9d648ad5a0f400fdb1b4}\label{utf8_8h_a7dda2b78867c9d648ad5a0f400fdb1b4}} 
\index{utf8.h@{utf8.h}!U8\_NEXT\_OR\_FFFD@{U8\_NEXT\_OR\_FFFD}}
\index{U8\_NEXT\_OR\_FFFD@{U8\_NEXT\_OR\_FFFD}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_NEXT\_OR\_FFFD}{U8\_NEXT\_OR\_FFFD}}
{\footnotesize\ttfamily \#define U8\+\_\+\+N\+E\+X\+T\+\_\+\+O\+R\+\_\+\+F\+F\+FD(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{length,  }\item[{}]{c }\end{DoxyParamCaption})~U8\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+N\+E\+X\+T\+\_\+\+O\+R\+\_\+\+S\+UB(s, i, length, c, 0xfffd)}

Get a code point from a string at a code point boundary offset, and advance the offset to the next code point boundary. (Post-\/incrementing forward iteration.) \char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries.

The length can be negative for a N\+U\+L-\/terminated string.

The offset may point to the lead byte of a multi-\/byte sequence, in which case the macro will read the whole sequence. If the offset points to a trail byte or an illegal U\+T\+F-\/8 sequence, then c is set to U+\+F\+F\+FD.

This macro does not distinguish between a real U+\+F\+F\+FD in the text and U+\+F\+F\+FD returned for an ill-\/formed sequence. Use \mbox{\hyperlink{utf8_8h_a57f3e5429ae4edb27a42367c627aa482}{U8\+\_\+\+N\+E\+X\+T()}} if that distinction is important.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & int32\+\_\+t string offset, must be i$<$length \\
\hline
{\em length} & int32\+\_\+t string length \\
\hline
{\em c} & output U\+Char32 variable, set to U+\+F\+F\+FD in case of an error \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a57f3e5429ae4edb27a42367c627aa482}{U8\+\_\+\+N\+E\+XT}} @stable I\+CU 51 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a28ecdb4233301285fc4ce7f9ea1ed644}\label{utf8_8h_a28ecdb4233301285fc4ce7f9ea1ed644}} 
\index{utf8.h@{utf8.h}!U8\_NEXT\_UNSAFE@{U8\_NEXT\_UNSAFE}}
\index{U8\_NEXT\_UNSAFE@{U8\_NEXT\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_NEXT\_UNSAFE}{U8\_NEXT\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+N\+E\+X\+T\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{c }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    (c)=(uint8\_t)(s)[(i)++]; \(\backslash\)}
\DoxyCodeLine{    if(!\mbox{\hyperlink{utf8_8h_a8f3a9427d880458a9fa6b169a3cc1b3c}{U8\_IS\_SINGLE}}(c)) \{ \(\backslash\)}
\DoxyCodeLine{        if((c)<0xe0) \{ \(\backslash\)}
\DoxyCodeLine{            (c)=(((c)\&0x1f)<<6)|((s)[(i)++]\&0x3f); \(\backslash\)}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((c)<0xf0) \{ \(\backslash\)}
\DoxyCodeLine{            \textcolor{comment}{/* no need for (c\&0xf) because the upper bits are truncated after <<12 in the cast to (UChar) */} \(\backslash\)}
\DoxyCodeLine{            (c)=(\mbox{\hyperlink{umachine_8h_a6bb9fad572d65b305324ef288165e2ac}{UChar}})(((c)<<12)|(((s)[i]\&0x3f)<<6)|((s)[(i)+1]\&0x3f)); \(\backslash\)}
\DoxyCodeLine{            (i)+=2; \(\backslash\)}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \{ \(\backslash\)}
\DoxyCodeLine{            (c)=(((c)\&7)<<18)|(((s)[i]\&0x3f)<<12)|(((s)[(i)+1]\&0x3f)<<6)|((s)[(i)+2]\&0x3f); \(\backslash\)}
\DoxyCodeLine{            (i)+=3; \(\backslash\)}
\DoxyCodeLine{        \} \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Get a code point from a string at a code point boundary offset, and advance the offset to the next code point boundary. (Post-\/incrementing forward iteration.) \char`\"{}\+Unsafe\char`\"{} macro, assumes well-\/formed U\+T\+F-\/8.

The offset may point to the lead byte of a multi-\/byte sequence, in which case the macro will read the whole sequence. The result is undefined if the offset points to a trail byte or an illegal U\+T\+F-\/8 sequence.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & string offset \\
\hline
{\em c} & output U\+Char32 variable \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a57f3e5429ae4edb27a42367c627aa482}{U8\+\_\+\+N\+E\+XT}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a17287c1f01ce84fdf8852a756643b076}\label{utf8_8h_a17287c1f01ce84fdf8852a756643b076}} 
\index{utf8.h@{utf8.h}!U8\_PREV@{U8\_PREV}}
\index{U8\_PREV@{U8\_PREV}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_PREV}{U8\_PREV}}
{\footnotesize\ttfamily \#define U8\+\_\+\+P\+R\+EV(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{start,  }\item[{}]{i,  }\item[{}]{c }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    (c)=(uint8\_t)(s)[-\/-\/(i)]; \(\backslash\)}
\DoxyCodeLine{    if(!\mbox{\hyperlink{utf8_8h_a8f3a9427d880458a9fa6b169a3cc1b3c}{U8\_IS\_SINGLE}}(c)) \{ \(\backslash\)}
\DoxyCodeLine{        (c)=\mbox{\hyperlink{utf8_8h_af52a9420fcf4a5386492719a11af98cb}{utf8\_prevCharSafeBody}}((\textcolor{keyword}{const} uint8\_t *)s, start, \&(i), c, -\/1); \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Move the string offset from one code point boundary to the previous one and get the code point between them. (Pre-\/decrementing backward iteration.) \char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries.

The input offset may be the same as the string length. If the offset is behind a multi-\/byte sequence, then the macro will read the whole sequence. If the offset is behind a lead byte, then that itself will be returned as the code point. If the offset is behind an illegal U\+T\+F-\/8 sequence, then c is set to a negative value.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em start} & int32\+\_\+t starting string offset (usually 0) \\
\hline
{\em i} & int32\+\_\+t string offset, must be start$<$i \\
\hline
{\em c} & output U\+Char32 variable, set to $<$0 in case of an error \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a5f78eb19a6b25f61dccbae45d6ecf955}{U8\+\_\+\+P\+R\+E\+V\+\_\+\+U\+N\+S\+A\+FE}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_aeef5d89106e5cf1c48727100c0b315bd}\label{utf8_8h_aeef5d89106e5cf1c48727100c0b315bd}} 
\index{utf8.h@{utf8.h}!U8\_PREV\_OR\_FFFD@{U8\_PREV\_OR\_FFFD}}
\index{U8\_PREV\_OR\_FFFD@{U8\_PREV\_OR\_FFFD}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_PREV\_OR\_FFFD}{U8\_PREV\_OR\_FFFD}}
{\footnotesize\ttfamily \#define U8\+\_\+\+P\+R\+E\+V\+\_\+\+O\+R\+\_\+\+F\+F\+FD(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{start,  }\item[{}]{i,  }\item[{}]{c }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    (c)=(uint8\_t)(s)[-\/-\/(i)]; \(\backslash\)}
\DoxyCodeLine{    if(!\mbox{\hyperlink{utf8_8h_a8f3a9427d880458a9fa6b169a3cc1b3c}{U8\_IS\_SINGLE}}(c)) \{ \(\backslash\)}
\DoxyCodeLine{        (c)=\mbox{\hyperlink{utf8_8h_af52a9420fcf4a5386492719a11af98cb}{utf8\_prevCharSafeBody}}((\textcolor{keyword}{const} uint8\_t *)s, start, \&(i), c, -\/3); \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Move the string offset from one code point boundary to the previous one and get the code point between them. (Pre-\/decrementing backward iteration.) \char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries.

The input offset may be the same as the string length. If the offset is behind a multi-\/byte sequence, then the macro will read the whole sequence. If the offset is behind a lead byte, then that itself will be returned as the code point. If the offset is behind an illegal U\+T\+F-\/8 sequence, then c is set to U+\+F\+F\+FD.

This macro does not distinguish between a real U+\+F\+F\+FD in the text and U+\+F\+F\+FD returned for an ill-\/formed sequence. Use \mbox{\hyperlink{utf8_8h_a17287c1f01ce84fdf8852a756643b076}{U8\+\_\+\+P\+R\+E\+V()}} if that distinction is important.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em start} & int32\+\_\+t starting string offset (usually 0) \\
\hline
{\em i} & int32\+\_\+t string offset, must be start$<$i \\
\hline
{\em c} & output U\+Char32 variable, set to U+\+F\+F\+FD in case of an error \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a17287c1f01ce84fdf8852a756643b076}{U8\+\_\+\+P\+R\+EV}} @stable I\+CU 51 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a5f78eb19a6b25f61dccbae45d6ecf955}\label{utf8_8h_a5f78eb19a6b25f61dccbae45d6ecf955}} 
\index{utf8.h@{utf8.h}!U8\_PREV\_UNSAFE@{U8\_PREV\_UNSAFE}}
\index{U8\_PREV\_UNSAFE@{U8\_PREV\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_PREV\_UNSAFE}{U8\_PREV\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+P\+R\+E\+V\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i,  }\item[{}]{c }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    (c)=(uint8\_t)(s)[-\/-\/(i)]; \(\backslash\)}
\DoxyCodeLine{    if(\mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}(c)) \{ \(\backslash\)}
\DoxyCodeLine{        uint8\_t \_\_b, \_\_count=1, \_\_shift=6; \(\backslash\)}
\DoxyCodeLine{\(\backslash\)}
\DoxyCodeLine{        \textcolor{comment}{/* c is a trail byte */} \(\backslash\)}
\DoxyCodeLine{        (c)\&=0x3f; \(\backslash\)}
\DoxyCodeLine{        for(;;) \{ \(\backslash\)}
\DoxyCodeLine{            \_\_b=(s)[-\/-\/(i)]; \(\backslash\)}
\DoxyCodeLine{            if(\_\_b>=0xc0) \{ \(\backslash\)}
\DoxyCodeLine{                U8\_MASK\_LEAD\_BYTE(\_\_b, \_\_count); \(\backslash\)}
\DoxyCodeLine{                (c)|=(\mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{UChar32}})\_\_b<<\_\_shift; \(\backslash\)}
\DoxyCodeLine{                break; \(\backslash\)}
\DoxyCodeLine{            \} \textcolor{keywordflow}{else} \{ \(\backslash\)}
\DoxyCodeLine{                (c)|=(\mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{UChar32}})(\_\_b\&0x3f)<<\_\_shift; \(\backslash\)}
\DoxyCodeLine{                ++\_\_count; \(\backslash\)}
\DoxyCodeLine{                \_\_shift+=6; \(\backslash\)}
\DoxyCodeLine{            \} \(\backslash\)}
\DoxyCodeLine{        \} \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Move the string offset from one code point boundary to the previous one and get the code point between them. (Pre-\/decrementing backward iteration.) \char`\"{}\+Unsafe\char`\"{} macro, assumes well-\/formed U\+T\+F-\/8.

The input offset may be the same as the string length. If the offset is behind a multi-\/byte sequence, then the macro will read the whole sequence. If the offset is behind a lead byte, then that itself will be returned as the code point. The result is undefined if the offset is behind an illegal U\+T\+F-\/8 sequence.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & string offset \\
\hline
{\em c} & output U\+Char32 variable \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a17287c1f01ce84fdf8852a756643b076}{U8\+\_\+\+P\+R\+EV}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a40fe523809a3a4e647e47513336b81d9}\label{utf8_8h_a40fe523809a3a4e647e47513336b81d9}} 
\index{utf8.h@{utf8.h}!U8\_SET\_CP\_LIMIT@{U8\_SET\_CP\_LIMIT}}
\index{U8\_SET\_CP\_LIMIT@{U8\_SET\_CP\_LIMIT}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_SET\_CP\_LIMIT}{U8\_SET\_CP\_LIMIT}}
{\footnotesize\ttfamily \#define U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+L\+I\+M\+IT(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{start,  }\item[{}]{i,  }\item[{}]{length }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    if((start)<(i) \&\& ((i)<(length) || (length)<0)) \{ \(\backslash\)}
\DoxyCodeLine{        U8\_BACK\_1(s, start, i); \(\backslash\)}
\DoxyCodeLine{        U8\_FWD\_1(s, i, length); \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Adjust a random-\/access offset to a code point boundary after a code point. If the offset is behind a partial multi-\/byte sequence, then the offset is incremented to behind the whole sequence. Otherwise, it is not modified. The input offset may be the same as the string length. \char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries.

The length can be negative for a N\+U\+L-\/terminated string.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em start} & int32\+\_\+t starting string offset (usually 0) \\
\hline
{\em i} & int32\+\_\+t string offset, must be start$<$=i$<$=length \\
\hline
{\em length} & int32\+\_\+t string length \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a910ba47de6d82fafc25b5e12f3a68588}{U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+L\+I\+M\+I\+T\+\_\+\+U\+N\+S\+A\+FE}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a910ba47de6d82fafc25b5e12f3a68588}\label{utf8_8h_a910ba47de6d82fafc25b5e12f3a68588}} 
\index{utf8.h@{utf8.h}!U8\_SET\_CP\_LIMIT\_UNSAFE@{U8\_SET\_CP\_LIMIT\_UNSAFE}}
\index{U8\_SET\_CP\_LIMIT\_UNSAFE@{U8\_SET\_CP\_LIMIT\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_SET\_CP\_LIMIT\_UNSAFE}{U8\_SET\_CP\_LIMIT\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+L\+I\+M\+I\+T\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    U8\_BACK\_1\_UNSAFE(s, i); \(\backslash\)}
\DoxyCodeLine{    U8\_FWD\_1\_UNSAFE(s, i); \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Adjust a random-\/access offset to a code point boundary after a code point. If the offset is behind a partial multi-\/byte sequence, then the offset is incremented to behind the whole sequence. Otherwise, it is not modified. The input offset may be the same as the string length. \char`\"{}\+Unsafe\char`\"{} macro, assumes well-\/formed U\+T\+F-\/8.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & string offset \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_a40fe523809a3a4e647e47513336b81d9}{U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+L\+I\+M\+IT}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_aa6d33627a8a5420a8f61e50da2aeca2a}\label{utf8_8h_aa6d33627a8a5420a8f61e50da2aeca2a}} 
\index{utf8.h@{utf8.h}!U8\_SET\_CP\_START@{U8\_SET\_CP\_START}}
\index{U8\_SET\_CP\_START@{U8\_SET\_CP\_START}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_SET\_CP\_START}{U8\_SET\_CP\_START}}
{\footnotesize\ttfamily \#define U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+S\+T\+A\+RT(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{start,  }\item[{}]{i }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    if(\mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}((s)[(i)])) \{ \(\backslash\)}
\DoxyCodeLine{        (i)=\mbox{\hyperlink{utf8_8h_a108d56aaaa6195ab42caeb63b732fea1}{utf8\_back1SafeBody}}(s, start, (i)); \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Adjust a random-\/access offset to a code point boundary at the start of a code point. If the offset points to a U\+T\+F-\/8 trail byte, then the offset is moved backward to the corresponding lead byte. Otherwise, it is not modified.

\char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries. Unlike \mbox{\hyperlink{utf8_8h_a47528ebb663f83216167be4d28b59230}{U8\+\_\+\+T\+R\+U\+N\+C\+A\+T\+E\+\_\+\+I\+F\+\_\+\+I\+N\+C\+O\+M\+P\+L\+E\+T\+E()}}, this macro always reads s\mbox{[}i\mbox{]}.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em start} & int32\+\_\+t starting string offset (usually 0) \\
\hline
{\em i} & int32\+\_\+t string offset, must be start$<$=i \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_ac46a385dbf64c97337522e1d1875a57e}{U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+S\+T\+A\+R\+T\+\_\+\+U\+N\+S\+A\+FE}} 

\mbox{\hyperlink{utf8_8h_a47528ebb663f83216167be4d28b59230}{U8\+\_\+\+T\+R\+U\+N\+C\+A\+T\+E\+\_\+\+I\+F\+\_\+\+I\+N\+C\+O\+M\+P\+L\+E\+TE}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_ac46a385dbf64c97337522e1d1875a57e}\label{utf8_8h_ac46a385dbf64c97337522e1d1875a57e}} 
\index{utf8.h@{utf8.h}!U8\_SET\_CP\_START\_UNSAFE@{U8\_SET\_CP\_START\_UNSAFE}}
\index{U8\_SET\_CP\_START\_UNSAFE@{U8\_SET\_CP\_START\_UNSAFE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_SET\_CP\_START\_UNSAFE}{U8\_SET\_CP\_START\_UNSAFE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+S\+T\+A\+R\+T\+\_\+\+U\+N\+S\+A\+FE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{i }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    while(\mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}((s)[i])) \{ -\/-\/(i); \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
Adjust a random-\/access offset to a code point boundary at the start of a code point. If the offset points to a U\+T\+F-\/8 trail byte, then the offset is moved backward to the corresponding lead byte. Otherwise, it is not modified. \char`\"{}\+Unsafe\char`\"{} macro, assumes well-\/formed U\+T\+F-\/8.


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em i} & string offset \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_aa6d33627a8a5420a8f61e50da2aeca2a}{U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+S\+T\+A\+RT}} @stable I\+CU 2.\+4 
\end{DoxySeeAlso}
\mbox{\Hypertarget{utf8_8h_a47528ebb663f83216167be4d28b59230}\label{utf8_8h_a47528ebb663f83216167be4d28b59230}} 
\index{utf8.h@{utf8.h}!U8\_TRUNCATE\_IF\_INCOMPLETE@{U8\_TRUNCATE\_IF\_INCOMPLETE}}
\index{U8\_TRUNCATE\_IF\_INCOMPLETE@{U8\_TRUNCATE\_IF\_INCOMPLETE}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{U8\_TRUNCATE\_IF\_INCOMPLETE}{U8\_TRUNCATE\_IF\_INCOMPLETE}}
{\footnotesize\ttfamily \#define U8\+\_\+\+T\+R\+U\+N\+C\+A\+T\+E\+\_\+\+I\+F\+\_\+\+I\+N\+C\+O\+M\+P\+L\+E\+TE(\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{start,  }\item[{}]{length }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{umachine_8h_abfdc26d020b4fab3ed5ca2b98fe5df43}{UPRV\_BLOCK\_MACRO\_BEGIN}} \{ \(\backslash\)}
\DoxyCodeLine{    if((length)>(start)) \{ \(\backslash\)}
\DoxyCodeLine{        uint8\_t \_\_b1=s[(\mbox{\hyperlink{group__core__func__geometric_ga18d45e3d4c7705e67ccfabd99e521604}{length}})-\/1]; \(\backslash\)}
\DoxyCodeLine{        if(\mbox{\hyperlink{utf8_8h_a8f3a9427d880458a9fa6b169a3cc1b3c}{U8\_IS\_SINGLE}}(\_\_b1)) \{ \(\backslash\)}
\DoxyCodeLine{            \textcolor{comment}{/* common ASCII character */} \(\backslash\)}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{utf8_8h_adb9837ea38dd811524a5b761ddc2a2ca}{U8\_IS\_LEAD}}(\_\_b1)) \{ \(\backslash\)}
\DoxyCodeLine{            -\/-\/(\mbox{\hyperlink{group__core__func__geometric_ga18d45e3d4c7705e67ccfabd99e521604}{length}}); \(\backslash\)}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}(\_\_b1) \&\& ((\mbox{\hyperlink{group__core__func__geometric_ga18d45e3d4c7705e67ccfabd99e521604}{length}})-\/2)>=(start)) \{ \(\backslash\)}
\DoxyCodeLine{            uint8\_t \_\_b2=s[(\mbox{\hyperlink{group__core__func__geometric_ga18d45e3d4c7705e67ccfabd99e521604}{length}})-\/2]; \(\backslash\)}
\DoxyCodeLine{            if(0xe0<=\_\_b2 \&\& \_\_b2<=0xf4) \{ \(\backslash\)}
\DoxyCodeLine{                if(\_\_b2<0xf0 ? \mbox{\hyperlink{utf8_8h_a3a06eab6584d228ea835b424e0591aec}{U8\_IS\_VALID\_LEAD3\_AND\_T1}}(\_\_b2, \_\_b1) : \(\backslash\)}
\DoxyCodeLine{                        \mbox{\hyperlink{utf8_8h_a5525576b42e8b7b4240153d9403c47a2}{U8\_IS\_VALID\_LEAD4\_AND\_T1}}(\_\_b2, \_\_b1)) \{ \(\backslash\)}
\DoxyCodeLine{                    (\mbox{\hyperlink{group__core__func__geometric_ga18d45e3d4c7705e67ccfabd99e521604}{length}})-\/=2; \(\backslash\)}
\DoxyCodeLine{                \} \(\backslash\)}
\DoxyCodeLine{            \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{utf8_8h_afed9fc9bf480bf15a2e6051774f2d80e}{U8\_IS\_TRAIL}}(\_\_b2) \&\& ((\mbox{\hyperlink{group__core__func__geometric_ga18d45e3d4c7705e67ccfabd99e521604}{length}})-\/3)>=(start)) \{ \(\backslash\)}
\DoxyCodeLine{                uint8\_t \_\_b3=s[(\mbox{\hyperlink{group__core__func__geometric_ga18d45e3d4c7705e67ccfabd99e521604}{length}})-\/3]; \(\backslash\)}
\DoxyCodeLine{                if(0xf0<=\_\_b3 \&\& \_\_b3<=0xf4 \&\& \mbox{\hyperlink{utf8_8h_a5525576b42e8b7b4240153d9403c47a2}{U8\_IS\_VALID\_LEAD4\_AND\_T1}}(\_\_b3, \_\_b2)) \{ \(\backslash\)}
\DoxyCodeLine{                    (\mbox{\hyperlink{group__core__func__geometric_ga18d45e3d4c7705e67ccfabd99e521604}{length}})-\/=3; \(\backslash\)}
\DoxyCodeLine{                \} \(\backslash\)}
\DoxyCodeLine{            \} \(\backslash\)}
\DoxyCodeLine{        \} \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{umachine_8h_a983e6cc57f8c1b0c5b9ad9ceb290418a}{UPRV\_BLOCK\_MACRO\_END}}}

\end{DoxyCode}
If the string ends with a U\+T\+F-\/8 byte sequence that is valid so far but incomplete, then reduce the length of the string to end before the lead byte of that incomplete sequence. For example, if the string ends with E1 80, the length is reduced by 2.

In all other cases (the string ends with a complete sequence, or it is not possible for any further trail byte to extend the trailing sequence) the length remains unchanged.

Useful for processing text split across multiple buffers (save the incomplete sequence for later) and for optimizing iteration (check for string length only once per character).

\char`\"{}\+Safe\char`\"{} macro, checks for illegal sequences and for string boundaries. Unlike \mbox{\hyperlink{utf8_8h_aa6d33627a8a5420a8f61e50da2aeca2a}{U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+S\+T\+A\+R\+T()}}, this macro never reads s\mbox{[}length\mbox{]}.

(In U\+T\+F-\/16, simply check for \mbox{\hyperlink{utf16_8h_ace839ae31a801fd9c53fa67c5f8b9144}{U16\+\_\+\+I\+S\+\_\+\+L\+E\+A\+D(last code unit)}}.)


\begin{DoxyParams}{Parameters}
{\em s} & const uint8\+\_\+t $\ast$ string \\
\hline
{\em start} & int32\+\_\+t starting string offset (usually 0) \\
\hline
{\em length} & int32\+\_\+t string length (usually start$<$=length) \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{utf8_8h_aa6d33627a8a5420a8f61e50da2aeca2a}{U8\+\_\+\+S\+E\+T\+\_\+\+C\+P\+\_\+\+S\+T\+A\+RT}} @stable I\+CU 61 
\end{DoxySeeAlso}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{utf8_8h_a37d89bc4f0251ec3ae8e30e0f3798ce3}\label{utf8_8h_a37d89bc4f0251ec3ae8e30e0f3798ce3}} 
\index{utf8.h@{utf8.h}!utf8\_appendCharSafeBody@{utf8\_appendCharSafeBody}}
\index{utf8\_appendCharSafeBody@{utf8\_appendCharSafeBody}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{utf8\_appendCharSafeBody()}{utf8\_appendCharSafeBody()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} int32\+\_\+t U\+\_\+\+E\+X\+P\+O\+R\+T2 utf8\+\_\+append\+Char\+Safe\+Body (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{s,  }\item[{int32\+\_\+t}]{i,  }\item[{int32\+\_\+t}]{length,  }\item[{\mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{U\+Char32}}}]{c,  }\item[{\mbox{\hyperlink{umachine_8h_a349ef00011f20ccd1d3b424445681aa5}{U\+Bool}} $\ast$}]{p\+Is\+Error }\end{DoxyParamCaption})}

Function for handling \char`\"{}append code point\char`\"{} with error-\/checking.

This is internal since it is not meant to be called directly by external clients; however it is called by public macros in this file and thus must remain stable, and should not be hidden when other internal functions are hidden (otherwise public macros would fail to compile). \mbox{\Hypertarget{utf8_8h_a108d56aaaa6195ab42caeb63b732fea1}\label{utf8_8h_a108d56aaaa6195ab42caeb63b732fea1}} 
\index{utf8.h@{utf8.h}!utf8\_back1SafeBody@{utf8\_back1SafeBody}}
\index{utf8\_back1SafeBody@{utf8\_back1SafeBody}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{utf8\_back1SafeBody()}{utf8\_back1SafeBody()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} int32\+\_\+t U\+\_\+\+E\+X\+P\+O\+R\+T2 utf8\+\_\+back1\+Safe\+Body (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t $\ast$}]{s,  }\item[{int32\+\_\+t}]{start,  }\item[{int32\+\_\+t}]{i }\end{DoxyParamCaption})}

Function for handling \char`\"{}skip backward one code point\char`\"{} with error-\/checking.

This is internal since it is not meant to be called directly by external clients; however it is called by public macros in this file and thus must remain stable, and should not be hidden when other internal functions are hidden (otherwise public macros would fail to compile). \mbox{\Hypertarget{utf8_8h_a53a02504435f07fb27396ef7eb66430e}\label{utf8_8h_a53a02504435f07fb27396ef7eb66430e}} 
\index{utf8.h@{utf8.h}!utf8\_nextCharSafeBody@{utf8\_nextCharSafeBody}}
\index{utf8\_nextCharSafeBody@{utf8\_nextCharSafeBody}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{utf8\_nextCharSafeBody()}{utf8\_nextCharSafeBody()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} \mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{U\+Char32}} U\+\_\+\+E\+X\+P\+O\+R\+T2 utf8\+\_\+next\+Char\+Safe\+Body (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t $\ast$}]{s,  }\item[{int32\+\_\+t $\ast$}]{pi,  }\item[{int32\+\_\+t}]{length,  }\item[{\mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{U\+Char32}}}]{c,  }\item[{\mbox{\hyperlink{umachine_8h_a349ef00011f20ccd1d3b424445681aa5}{U\+Bool}}}]{strict }\end{DoxyParamCaption})}

Function for handling \char`\"{}next code point\char`\"{} with error-\/checking.

This is internal since it is not meant to be called directly by external clients; however it is called by public macros in this file and thus must remain stable, and should not be hidden when other internal functions are hidden (otherwise public macros would fail to compile). \mbox{\Hypertarget{utf8_8h_af52a9420fcf4a5386492719a11af98cb}\label{utf8_8h_af52a9420fcf4a5386492719a11af98cb}} 
\index{utf8.h@{utf8.h}!utf8\_prevCharSafeBody@{utf8\_prevCharSafeBody}}
\index{utf8\_prevCharSafeBody@{utf8\_prevCharSafeBody}!utf8.h@{utf8.h}}
\doxysubsubsection{\texorpdfstring{utf8\_prevCharSafeBody()}{utf8\_prevCharSafeBody()}}
{\footnotesize\ttfamily \mbox{\hyperlink{umachine_8h_a676114b1a64bb7c2de15c919a00b28df}{U\+\_\+\+C\+A\+PI}} \mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{U\+Char32}} U\+\_\+\+E\+X\+P\+O\+R\+T2 utf8\+\_\+prev\+Char\+Safe\+Body (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t $\ast$}]{s,  }\item[{int32\+\_\+t}]{start,  }\item[{int32\+\_\+t $\ast$}]{pi,  }\item[{\mbox{\hyperlink{umachine_8h_a09fff5c3b5a5b015324dc3ec3cf92809}{U\+Char32}}}]{c,  }\item[{\mbox{\hyperlink{umachine_8h_a349ef00011f20ccd1d3b424445681aa5}{U\+Bool}}}]{strict }\end{DoxyParamCaption})}

Function for handling \char`\"{}previous code point\char`\"{} with error-\/checking.

This is internal since it is not meant to be called directly by external clients; however it is called by public macros in this file and thus must remain stable, and should not be hidden when other internal functions are hidden (otherwise public macros would fail to compile). 