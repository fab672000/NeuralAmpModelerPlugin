\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_9cdc3e4e34eb81a8ec84d72d176df884_autotoc_md717}{}\doxysection{Can I write audio data from Java to Oboe?}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_9cdc3e4e34eb81a8ec84d72d176df884_autotoc_md717}
Oboe is a native library written in C++ which uses the Android N\+DK. To move data from Java to C++ you can use \href{https://developer.android.com/training/articles/perf-jni}{\texttt{ J\+NI}}.

That said, if you are generating your audio in Java you\textquotesingle{}ll get better performance using the \href{https://developer.android.com/reference/android/media/AudioTrack}{\texttt{ Java Audio\+Track class}}. This can be created with low latency using the Audio\+Track.\+Builder method \href{https://developer.android.com/reference/android/media/AudioTrack\#PERFORMANCE_MODE_LOW_LATENCY}{\texttt{ {\ttfamily set\+Performance\+Mode(Audio\+Track.\+P\+E\+R\+F\+O\+R\+M\+A\+N\+C\+E\+\_\+\+M\+O\+D\+E\+\_\+\+L\+O\+W\+\_\+\+L\+A\+T\+E\+N\+CY)}}}.

You can dynamically tune the latency of the stream just like in Oboe using \href{https://developer.android.com/reference/android/media/AudioTrack.html\#setBufferSizeInFrames(int)}{\texttt{ {\ttfamily set\+Buffer\+Size\+In\+Frames(int)}}} Also you can use blocking writes with the Java Audio\+Track and still get a low latency stream. Oboe requires a callback to get a low latency stream and that does not work well with Java.

Note that \href{https://developer.android.com/reference/android/media/AudioTrack\#PERFORMANCE_MODE_LOW_LATENCY}{\texttt{ {\ttfamily Audio\+Track.\+P\+E\+R\+F\+O\+R\+M\+A\+N\+C\+E\+\_\+\+M\+O\+D\+E\+\_\+\+L\+O\+W\+\_\+\+L\+A\+T\+E\+N\+CY}}} was added in A\+PI 26, For A\+PI 24 or 25 use \href{https://developer.android.com/reference/kotlin/android/media/AudioAttributes\#flag_low_latency}{\texttt{ {\ttfamily Audio\+Attributes.\+F\+L\+A\+G\+\_\+\+L\+O\+W\+\_\+\+L\+A\+T\+E\+N\+CY}}}. That was deprecated but will still work with later A\+P\+Is.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_9cdc3e4e34eb81a8ec84d72d176df884_autotoc_md718}{}\doxysection{Can I use Oboe to play compressed audio files, such as M\+P3 or A\+A\+C?}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_9cdc3e4e34eb81a8ec84d72d176df884_autotoc_md718}
Oboe only works with P\+CM data. It does not include any extraction or decoding classes. However, the \href{https://github.com/google/oboe/tree/master/samples/RhythmGame}{\texttt{ Rhythm\+Game sample}} includes extractors for both N\+DK and F\+Fmpeg.

For more information on using F\+Fmpeg in your app \href{https://medium.com/@donturner/using-ffmpeg-for-faster-audio-decoding-967894e94e71}{\texttt{ check out this article}}.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_9cdc3e4e34eb81a8ec84d72d176df884_autotoc_md719}{}\doxysection{Android Studio doesn\textquotesingle{}t find the Oboe symbols, how can I fix this?}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_9cdc3e4e34eb81a8ec84d72d176df884_autotoc_md719}
Start by ensuring that your project builds successfully. The main thing to do is ensure that the Oboe include paths are set correctly in your project\textquotesingle{}s {\ttfamily C\+Make\+Lists.\+txt}. \href{https://github.com/google/oboe/blob/master/docs/GettingStarted.md\#2-update-cmakeliststxt}{\texttt{ Full instructions here}}.

If that doesn\textquotesingle{}t fix it try the following\+:

1) Invalidate the Android Studio cache by going to File-\/$>$Invalidate Caches / Restart 2) Delete the contents of {\ttfamily \$\+H\+O\+ME/\+Library/\+Caches/\+Android\+Studio$<$version$>$}

We have had several reports of this happening and are keen to understand the root cause. If this happens to you please file an issue with your Android Studio version and we\textquotesingle{}ll investigate further.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_9cdc3e4e34eb81a8ec84d72d176df884_autotoc_md720}{}\doxysection{I requested a stream with $<$tt$>$\+Performance\+Mode\+::\+Low\+Latency$<$/tt$>$, but didn\textquotesingle{}t get it. Why not?}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_9cdc3e4e34eb81a8ec84d72d176df884_autotoc_md720}
Usually if you call {\ttfamily builder.\+set\+Performance\+Mode(\+Performance\+Mode\+::\+Low\+Latency)} and don\textquotesingle{}t specify other stream properties you will get a {\ttfamily Low\+Latency} stream. The most common reasons for not receiving one are\+:


\begin{DoxyItemize}
\item You are opening an output stream and did not specify a {\bfseries{callback}}.
\item You requested a {\bfseries{sample}} rate which does not match the audio device\textquotesingle{}s native sample rate. For playback streams, this means the audio data you write into the stream must be resampled before it\textquotesingle{}s sent to the audio device. For recording streams, the audio data must be resampled before you can read it. In both cases the resampling process (performed by the Android audio framework) adds latency and therefore providing a {\ttfamily Low\+Latency} stream is not possible. To avoid the resampler on A\+PI 26 and below you can specify a default value for the sample rate \href{https://github.com/google/oboe/blob/master/docs/GettingStarted.md\#obtaining-optimal-latency}{\texttt{ as detailed here}}. Or you can use the \href{https://google.github.io/oboe/reference/classoboe_1_1_audio_stream_builder.html\#af7d24a9ec975d430732151e5ee0d1027}{\texttt{ new resampler}} in Oboe, which allows the lower level code to run at the optimal rate and provide lower latency.
\item If you request {\bfseries{Audio\+Format\+::\+Float on an Input}} stream before Android 9.\+0 then you will {\bfseries{not}} get a F\+A\+ST track. You need to either request Audio\+Format\+::\+Int16 or \href{https://google.github.io/oboe/reference/classoboe_1_1_audio_stream_builder.html\#a7ec5f427cd6fe55cb1ce536ff0cbb4d2}{\texttt{ enable format conversion by Oboe}}.
\item The audio {\bfseries{device}} does not support {\ttfamily Low\+Latency} streams, for example Bluetooth.
\item You requested a {\bfseries{channel count}} which is not supported natively by the audio device. On most devices and Android A\+PI levels it is possible to obtain a {\ttfamily Low\+Latency} stream for both mono and stereo, however, there are a few exceptions, some of which are listed \href{https://github.com/google/oboe/blob/master/docs/AndroidAudioHistory.md}{\texttt{ here}}.
\item The {\bfseries{maximum number}} of {\ttfamily Low\+Latency} streams has been reached. This could be by your app, or by other apps. This is often caused by opening multiple playback streams for different \char`\"{}tracks\char`\"{}. To avoid this open a single audio stream and perform your own mixing in the app.
\item You are on Android 7.\+0 or below and are receiving {\ttfamily Performance\+Mode\+::\+None}. The ability to query the performance mode of a stream was added in Android 7.\+1 (Nougat M\+R1). Low latency streams (aka F\+A\+ST tracks) {\itshape are available} on Android 7.\+0 and below but there is no programmatic way of knowing whether yours is one. \href{https://stackoverflow.com/questions/56828501/does-opensl-es-support-performancemodelowlatency/5683499}{\texttt{ Question on Stack\+Overflow}}
\end{DoxyItemize}\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_9cdc3e4e34eb81a8ec84d72d176df884_autotoc_md721}{}\doxysection{My question isn\textquotesingle{}t listed, where can I ask it?}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_9cdc3e4e34eb81a8ec84d72d176df884_autotoc_md721}
Please ask questions on \href{https://stackoverflow.com/questions/ask}{\texttt{ Stack Overflow}} with the \href{https://stackoverflow.com/tags/oboe}{\texttt{ Oboe tag}} or in the Git\+Hub Issues tab. 