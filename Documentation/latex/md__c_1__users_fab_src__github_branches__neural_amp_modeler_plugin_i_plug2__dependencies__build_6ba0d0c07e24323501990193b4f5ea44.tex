Home\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md37}{}\doxysection{How to Use Oboe\+Tester}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md37}
\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md38}{}\doxysubsection{Test Activities}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md38}
Launch Oboe\+Tester and then select one of the test Activities.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md39}{}\doxysubsubsection{Test Output}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md39}
Tap the green bar to expand the Settings display.

Test opening, starting, stopping and closing a stream. Various stream parameters can be selected before opening. While the stream is playing, the frame counts and stream state are displayed. The latency is estimated based on the timestamp information.

Experiment with changing the buffer size to see if there are glitches when the size is high or low.

Experiment with changing the \char`\"{}\+Workload\char`\"{}. Watch the frame counters and the \#\+X\+Runs. The audio is expected to glitch when the workload is high because there is too much work and the audio task misses its delivery deadlines.

The extra workload is generated by calculating a random number in a loop and then adding the result to the output at an inaudible level. This technique prevents the compiler optimizer from skipping the work.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md40}{}\doxysubsubsection{Test Input}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md40}
Test input streams. Displays current volume as VU bars.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md41}{}\doxysubsubsection{Tap to Tone Latency}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md41}
Measure touch screen latency plus audio output latency. Open, Start, then tap on the screen with your fingertip. The app will listen for the sound of your fingernail tapping the screen and the resulting beep, and then measure the time between them. If you use headphones then you can eliminate the latency caused by speaker protection. If you use U\+S\+B-\/\+M\+I\+DI input then you can eliminate the latency due to the touch screen, which is around 15-\/30 msec. M\+I\+DI latency is generally under 1 msec.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md42}{}\doxysubsubsection{Record and Play}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md42}

\begin{DoxyItemize}
\item Tap R\+E\+C\+O\+RD to record several seconds of audio. You should see the red VU meters move.
\item Tap S\+T\+OP then P\+L\+AY to play it back.
\item Tap S\+H\+A\+RE button to the recorded W\+AV file to G\+Drive, G\+Mail or another app. You can then examine the W\+AV file using a program like Audacity.
\end{DoxyItemize}\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md43}{}\doxysubsubsection{Echo Input to Output}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md43}
This test copies input to output and adds up to 3 seconds of delay. This can be used to simulate high latency on a phone that supports low latency. Try putting the phone to your ear with the added delay at 0 and try talking. Then set it to about 1-\/200 msec and try talking on the phone. Notice how the echo can be very confusing.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md44}{}\doxysubsubsection{Round Trip Latency}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md44}
This test works with either a \href{https://source.android.com/devices/audio/latency/loopback}{\texttt{ loopback adapter}} or through speakers. Latency through the speakers will probably be higher. It measures the input and output latency combined. Set the volume somewhere in the middle.

The test works by sending a random series of bits encoded using smoothed Manchester Encoding. This signal has a very sharp peak when we correlate output and input. So it works at almost any volume. But the confidence will be higher at higher volumes.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md45}{}\doxysubsubsection{Glitch Test}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md45}
This test works best with a loopback adapter. But it can also work in a quiet room. It plays a sine wave and then tries to record and lock onto that sine wave. If the actual input does not match the expected sine wave value then it is counted as a glitch. The test will display the maximum time that it ran without seeing a glitch.

Look for the \#\+X\+Runs display. If \#\+X\+Runs increments when a glitch occurs then the glitch is probably due to preemption of the audio task. If \#\+X\+Runs is not incrementing then the glitches may be due to A\+Audio M\+M\+AP tuning errors in the H\+AL.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md46}{}\doxysubsubsection{Auto Glitch Test}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md46}
Measure glitches for various combinations of input and output settings. Change the test duration to a high value and let it run for a while. If you get glitches in one configuration then you can investigate using the previous manual Glitch Test. The Share button will let you email the report to yourself.\hypertarget{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md47}{}\doxysubsubsection{Test Disconnect}\label{md__c_1__users_fab_src__github_branches__neural_amp_modeler_plugin_i_plug2__dependencies__build_6ba0d0c07e24323501990193b4f5ea44_autotoc_md47}
You can test whether the disconnect logic is working in Android by plugging or unplugging a headset. Just follow the instructions in red. You will get a report at the end that you can S\+H\+A\+RE by G\+Mail. 